<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Data Visualisation Gallery - Research figures, methods diagrams, and infographics">
    <title>Data Visualisation | Brooklyn Corbett</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400&family=Inter:wght@400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="css/global.css">
    
    <style>
        :root {
            --cream: #F1DDC4;
            --rust: #75352D;
            --dark-burgundy: #3A1213;
            --soft-blue: #92A4D2;
            --light-cream: #f7efe8;
            --text-dark: #4b3f3a;
            --sage: #7fa8a8;
        }

        main {
            max-width: none;
            padding: 0;
            margin-top: 0;
        }

        /* ============================================
           HERO SECTION
           ============================================ */
        .viz-hero {
            min-height: 90vh;
            background: linear-gradient(135deg, var(--dark-burgundy) 0%, #4a1a1b 50%, #2a0d0e 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 6rem 4rem 6rem;
            position: relative;
        }

        .hero-split {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            max-width: 1200px;
            width: 100%;
            align-items: center;
        }

        .hero-image-container {
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 25px 80px rgba(0, 0, 0, 0.4);
            max-height: 380px;
        }

        .hero-image-container img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
        }

        .hero-content {
            text-align: left;
        }

        .viz-hero h1 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 3.5rem;
            font-weight: 700;
            color: white;
            margin-bottom: 1.5rem;
            line-height: 1.1;
        }

        .viz-hero-subtitle {
            font-size: 1.25rem;
            color: rgba(255, 255, 255, 0.85);
            line-height: 1.7;
        }

        .scroll-indicator {
            position: absolute;
            bottom: 2.5rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.8rem;
            animation: bounce 2s infinite;
            z-index: 10;
        }

        @keyframes bounce {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(8px); }
        }

        /* ============================================
           SECTION STYLING
           ============================================ */
        .content-section {
            padding: 5rem 2rem;
        }

        .content-section.bg-cream {
            background: var(--cream);
        }

        .content-section.bg-white {
            background: white;
        }

        .section-inner {
            max-width: 1100px;
            margin: 0 auto;
        }

        .section-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .section-number {
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--soft-blue);
            letter-spacing: 0.15em;
            display: block;
            margin-bottom: 0.75rem;
        }

        .section-header h2 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--dark-burgundy);
            margin: 0 0 0.5rem 0;
        }

        .section-header h2::after {
            display: none;
        }

        .section-tagline {
            font-size: 1.15rem;
            color: var(--rust);
            font-style: italic;
            font-family: 'Cormorant Garamond', serif;
        }

        .section-intro {
            font-size: 1rem;
            color: #5a4a42;
            max-width: 700px;
            margin: 1rem auto 0;
            line-height: 1.7;
        }

        /* ============================================
           PHILOSOPHY SECTION
           ============================================ */
        .philosophy-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 1.25rem;
        }

        .philosophy-card {
            background: white;
            border-radius: 14px;
            padding: 1.5rem;
            box-shadow: 0 6px 25px rgba(0, 0, 0, 0.06);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            text-align: center;
        }

        .philosophy-card:hover {
            transform: translateY(-4px);
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.1);
        }

        .philosophy-icon {
            width: 50px;
            height: 50px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 0 auto 1rem;
        }

        .philosophy-icon img {
            width: 100%;
            height: 100%;
            object-fit: contain;
        }

        .philosophy-card h3 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.15rem;
            font-weight: 600;
            color: var(--dark-burgundy);
            margin: 0 0 0.5rem 0;
        }

        .philosophy-card p {
            font-size: 0.9rem;
            color: #5a4a42;
            line-height: 1.5;
            margin: 0;
        }

        /* ============================================
           GALLERY GRIDS
           ============================================ */
        .viz-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
        }

        .viz-card {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 6px 25px rgba(0, 0, 0, 0.06);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: pointer;
        }

        .viz-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 40px rgba(0, 0, 0, 0.12);
        }

        .viz-card-image {
            width: 100%;
            height: 200px;
            background: white;
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            cursor: zoom-in;
        }

        .viz-card-image img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            padding: 0.5rem;
        }

        .viz-card-placeholder {
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            color: var(--rust);
            opacity: 0.5;
        }

        .viz-card-placeholder span:first-child {
            font-size: 2.5rem;
        }

        .viz-card-placeholder span:last-child {
            font-size: 0.85rem;
            font-weight: 500;
        }

        .viz-card-content {
            padding: 1.25rem;
        }

        .viz-card-content h3 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.15rem;
            font-weight: 600;
            color: var(--dark-burgundy);
            margin: 0 0 0.35rem 0;
        }

        .viz-card-content p {
            font-size: 0.85rem;
            color: #5a4a42;
            line-height: 1.5;
            margin: 0;
        }

        .viz-card-tag {
            display: inline-block;
            background: rgba(146, 164, 210, 0.15);
            color: var(--soft-blue);
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            padding: 0.3rem 0.6rem;
            border-radius: 4px;
            margin-top: 0.75rem;
        }

        /* ============================================
           CODE BLOCKS FOR RESEARCH VIZ
           ============================================ */
        .viz-card-expanded {
            background: white;
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 6px 25px rgba(0, 0, 0, 0.06);
            margin-bottom: 2rem;
        }

        .viz-card-header {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 0;
        }

        .viz-card-image-large {
            height: 300px;
            background: var(--light-cream);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
            cursor: zoom-in;
            transition: opacity 0.2s;
        }

        .viz-card-image-large:hover {
            opacity: 0.9;
        }

        .viz-card-image-large img {
            width: 100%;
            height: 100%;
            object-fit: contain;
            padding: 1rem;
            background: white;
        }

        .viz-card-info {
            padding: 2rem;
            display: flex;
            flex-direction: column;
            justify-content: center;
            background: linear-gradient(135deg, var(--light-cream) 0%, white 100%);
        }

        .viz-card-info h3 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--dark-burgundy);
            margin: 0 0 0.75rem 0;
        }

        .viz-card-info p {
            font-size: 0.95rem;
            color: #5a4a42;
            line-height: 1.6;
            margin: 0 0 1rem 0;
        }

        .viz-card-info .viz-card-tag {
            align-self: flex-start;
        }

        /* Code Toggle */
        .code-toggle {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: #1e1e2e;
            padding: 1rem 1.5rem;
            cursor: pointer;
            transition: background 0.2s;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
        }

        .code-toggle:hover {
            background: #2a2a3e;
        }

        .code-toggle-left {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            color: #cdd6f4;
            font-size: 0.9rem;
            font-weight: 600;
        }

        .code-toggle-left svg {
            width: 20px;
            height: 20px;
            color: var(--soft-blue);
        }

        .code-toggle-right {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .code-expand-icon {
            color: #cdd6f4;
            font-size: 0.85rem;
            transition: transform 0.3s;
        }

        .code-toggle.expanded .code-expand-icon {
            transform: rotate(180deg);
        }

        .copy-code-btn {
            background: var(--soft-blue);
            color: white;
            border: none;
            padding: 0.4rem 0.8rem;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            font-family: 'Inter', sans-serif;
        }

        .copy-code-btn:hover {
            background: #7b8fc7;
            transform: translateY(-1px);
        }

        .copy-code-btn.copied {
            background: var(--sage);
        }

        /* Collapsible Code */
        .code-collapsible {
            display: none;
            background: #1e1e2e;
        }

        .code-collapsible.show {
            display: block;
        }

        .code-block {
            padding: 1.5rem;
            overflow-x: auto;
            max-height: 500px;
            overflow-y: auto;
        }

        .code-block pre {
            margin: 0;
            font-family: 'Fira Code', ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, monospace;
            font-size: 0.8rem;
            line-height: 1.7;
            color: #cdd6f4;
            white-space: pre;
        }

        /* Syntax highlighting */
        .code-block .comment { color: #6c7086; font-style: italic; }
        .code-block .string { color: #a6e3a1; }
        .code-block .keyword { color: #cba6f7; }
        .code-block .function { color: #89b4fa; }
        .code-block .number { color: #fab387; }
        .code-block .operator { color: #89dceb; }

        /* ============================================
           INFOGRAPHICS SECTION
           ============================================ */
        .infographics-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.5rem;
        }

        .infographic-card {
            background: var(--light-cream);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 6px 25px rgba(0, 0, 0, 0.08);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            cursor: zoom-in;
        }

        .infographic-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 15px 45px rgba(0, 0, 0, 0.12);
        }

        .infographic-card-image {
            width: 100%;
            height: 280px;
            background: var(--light-cream);
            display: flex;
            align-items: center;
            justify-content: center;
            overflow: hidden;
        }

        .infographic-card-image img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            object-position: top;
            transition: transform 0.3s ease;
        }

        .infographic-card:hover .infographic-card-image img {
            transform: scale(1.03);
        }

        .infographic-card-content {
            padding: 1.25rem 1.5rem;
            background: var(--light-cream);
        }

        .infographic-card-content h3 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.15rem;
            font-weight: 700;
            color: var(--dark-burgundy);
            margin: 0 0 0.5rem 0;
        }

        .infographic-card-content p {
            font-size: 0.9rem;
            color: var(--text-dark);
            line-height: 1.5;
            margin: 0;
        }

        .tool-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.5rem;
            background: rgba(146, 164, 210, 0.2);
            color: var(--soft-blue);
            font-size: 0.85rem;
            font-weight: 500;
            padding: 0.5rem 1rem;
            border-radius: 20px;
            margin-top: 1rem;
        }

        /* ============================================
           CREATE YOUR OWN SECTION
           ============================================ */
        .create-own-section {
            margin-top: 3rem;
            background: var(--light-cream);
            border-radius: 16px;
            overflow: hidden;
            box-shadow: 0 6px 25px rgba(0, 0, 0, 0.06);
            border: 2px solid var(--cream);
        }

        .create-own-toggle {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1.5rem 2rem;
            cursor: pointer;
            transition: background 0.2s;
            border-bottom: 1px solid transparent;
        }

        .create-own-toggle:hover {
            background: rgba(241, 221, 196, 0.5);
        }

        .create-own-toggle.expanded {
            border-bottom: 1px solid var(--cream);
        }

        .create-own-toggle-left h3 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--dark-burgundy);
            margin: 0 0 0.25rem 0;
        }

        .create-own-toggle-left p {
            font-size: 0.95rem;
            color: var(--text-dark);
            margin: 0;
        }

        .create-own-expand-icon {
            font-size: 1.75rem;
            color: var(--text-dark);
            font-weight: 300;
            transition: transform 0.3s;
            line-height: 1;
        }

        .create-own-toggle.expanded .create-own-expand-icon {
            transform: rotate(45deg);
        }

        .create-own-content {
            display: none;
            padding: 2rem;
            background: white;
        }

        .create-own-content.show {
            display: block;
        }

        .create-own-content > p {
            font-size: 1rem;
            line-height: 1.7;
            color: var(--text-dark);
            margin: 0 0 1.5rem 0;
        }

        .create-own-content a {
            color: var(--soft-blue);
            font-weight: 500;
        }

        .create-own-content a:hover {
            color: var(--rust);
        }

        .create-own-steps {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .create-own-step {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
        }

        .step-number {
            width: 32px;
            height: 32px;
            min-width: 32px;
            background: var(--soft-blue);
            color: white;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 600;
            font-size: 0.9rem;
        }

        .create-own-step > div {
            font-size: 0.95rem;
            color: var(--text-dark);
            line-height: 1.6;
            padding-top: 0.25rem;
        }

        .prompt-box {
            background: #1e1e2e;
            border-radius: 12px;
            overflow: hidden;
            margin-bottom: 1.5rem;
        }

        .prompt-header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.75rem 1.25rem;
            background: rgba(255, 255, 255, 0.05);
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .prompt-header span {
            color: #cdd6f4;
            font-size: 0.85rem;
            font-weight: 600;
        }

        .copy-prompt-btn {
            background: var(--soft-blue);
            color: white;
            border: none;
            padding: 0.4rem 0.8rem;
            border-radius: 6px;
            font-size: 0.75rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s;
            font-family: 'Inter', sans-serif;
        }

        .copy-prompt-btn:hover {
            background: #7b8fc7;
        }

        .copy-prompt-btn.copied {
            background: var(--sage);
        }

        .prompt-text {
            padding: 1.25rem;
            font-family: 'Inter', sans-serif;
            font-size: 0.9rem;
            line-height: 1.7;
            color: #cdd6f4;
            white-space: pre-wrap;
        }

        .create-own-note {
            font-size: 0.9rem;
            color: var(--text-dark);
            background: var(--light-cream);
            padding: 1rem 1.25rem;
            border-radius: 8px;
            border-left: 3px solid var(--soft-blue);
            margin: 0;
        }

        /* ============================================
           R HELP ACCORDION (in Research Viz section)
           ============================================ */
        .r-help-accordion {
            margin-top: 3rem;
            background: var(--light-cream);
            border-radius: 16px;
            overflow: hidden;
            border: 2px solid var(--cream);
        }

        .r-help-toggle {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 1.5rem 2rem;
            cursor: pointer;
            transition: background 0.2s;
        }

        .r-help-toggle:hover {
            background: rgba(241, 221, 196, 0.5);
        }

        .r-help-toggle.expanded {
            border-bottom: 2px solid var(--cream);
        }

        .r-help-toggle-left h3 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.4rem;
            font-weight: 700;
            color: var(--dark-burgundy);
            margin: 0 0 0.25rem 0;
        }

        .r-help-toggle-left p {
            font-size: 0.95rem;
            color: var(--text-dark);
            margin: 0;
        }

        .r-help-expand-icon {
            font-size: 1.75rem;
            color: var(--soft-blue);
            font-weight: 300;
            transition: transform 0.3s;
            line-height: 1;
        }

        .r-help-toggle.expanded .r-help-expand-icon {
            transform: rotate(45deg);
        }

        .r-help-content {
            display: none;
            padding: 2rem;
            background: white;
        }

        .r-help-content.show {
            display: block;
        }

        .r-help-content > p {
            font-size: 1rem;
            line-height: 1.7;
            color: var(--text-dark);
            margin: 0 0 1.5rem 0;
        }

        .r-help-steps {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 2rem;
        }

        .r-help-step {
            display: flex;
            align-items: flex-start;
            gap: 1rem;
        }

        .r-help-step > div {
            font-size: 0.95rem;
            color: var(--text-dark);
            line-height: 1.6;
            padding-top: 0.25rem;
        }

        .ethics-warning {
            font-size: 0.9rem;
            color: var(--rust);
            background: rgba(117, 53, 45, 0.08);
            padding: 1rem 1.25rem;
            border-radius: 8px;
            border-left: 3px solid var(--rust);
            margin-top: 1.5rem;
        }

        /* ============================================
           LIGHTBOX
           ============================================ */
        .lightbox-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 10000;
            justify-content: center;
            align-items: flex-start;
            padding: 2rem;
            cursor: zoom-out;
            overflow-y: auto;
        }

        .lightbox-overlay.active {
            display: flex;
        }

        .lightbox-content {
            max-width: 700px;
            width: 90%;
            height: auto;
            object-fit: contain;
            border-radius: 8px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
            margin: auto;
        }

        .lightbox-content.infographic {
            max-width: 430px;
        }

        .lightbox-close {
            position: fixed;
            top: 1.5rem;
            right: 2rem;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.2s;
            z-index: 10001;
        }

        .lightbox-close:hover {
            opacity: 1;
        }

        /* ============================================
           FOOTER
           ============================================ */
        footer {
            background: var(--dark-burgundy);
            color: white;
            text-align: center;
            padding: 2rem;
        }

        footer p {
            margin: 0;
            font-size: 0.9rem;
            opacity: 0.8;
        }

        /* ============================================
           RESPONSIVE
           ============================================ */
        @media (max-width: 1000px) {
            .hero-split {
                grid-template-columns: 1fr;
                gap: 2.5rem;
                text-align: center;
            }

            .hero-content {
                text-align: center;
                order: 1;
            }

            .hero-image-container {
                order: 2;
                max-width: 500px;
                margin: 0 auto;
            }

            .viz-hero {
                padding: 5rem 2rem 4rem;
            }

            .viz-hero h1 {
                font-size: 3rem;
            }

            .philosophy-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .viz-grid,
            .infographics-grid {
                grid-template-columns: repeat(2, 1fr);
            }

            .viz-card-header {
                grid-template-columns: 1fr;
            }

            .viz-card-image-large {
                height: 220px;
            }
        }

        @media (max-width: 768px) {
            .viz-hero h1 {
                font-size: 2.5rem;
            }

            .viz-hero-subtitle {
                font-size: 1.1rem;
            }

            .section-header h2 {
                font-size: 2rem;
            }

            .philosophy-grid {
                grid-template-columns: 1fr;
            }

            .viz-grid,
            .infographics-grid {
                grid-template-columns: 1fr;
            }

            .content-section {
                padding: 3.5rem 1.5rem;
            }

            .create-own-toggle {
                padding: 1.25rem 1.5rem;
            }

            .create-own-toggle-left h3 {
                font-size: 1.2rem;
            }

            .create-own-content {
                padding: 1.5rem;
            }

            .prompt-text {
                font-size: 0.85rem;
            }
        }

        @media (max-width: 500px) {
            .viz-hero {
                padding: 5rem 1.5rem 3rem;
            }

            .viz-hero h1 {
                font-size: 2rem;
            }

            .tip-box {
                padding: 1.5rem;
            }

            .create-own-toggle {
                padding: 1rem 1.25rem;
            }

            .create-own-expand-icon {
                font-size: 1.5rem;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <a href="index.html" class="nav-brand">Brooklyn Corbett</a>
            <div class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <ul class="nav-links" id="navLinks">
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="research/index.html">Research Projects</a></li>
                <li><a href="ai-education/index.html">AI in Education</a></li>
                <li><a href="data-viz.html" class="active">Data Visualisation</a></li>
                <li><a href="rigour.html">Open Science</a></li>
            </ul>
        </div>
    </nav>

    <main>
        <!-- Lightbox Overlay -->
        <div class="lightbox-overlay" id="lightbox">
            <span class="lightbox-close" onclick="closeLightbox()">&times;</span>
            <img src="" alt="Enlarged visualisation" class="lightbox-content" id="lightboxImg">
        </div>

        <!-- Hero Section -->
        <section class="viz-hero">
            <div class="hero-split">
                <div class="hero-image-container">
                    <img src="assets/images/data_viz_image.JPG" alt="Data visualisation examples from research" loading="lazy">
                </div>
                <div class="hero-content">
                    <h1>Data Visualisation</h1>
                    <p class="viz-hero-subtitle">
                        Beautiful, transparent visualisations that communicate research clearly. 
                        From publication figures to stakeholder infographics.
                    </p>
                </div>
            </div>
            
            <div class="scroll-indicator">
                <span>Scroll to explore</span>
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 5v14M5 12l7 7 7-7"/>
                </svg>
            </div>
        </section>

        <!-- Section 01: Philosophy -->
        <section class="content-section bg-cream">
            <div class="section-inner">
                <div class="section-header">
                    <span class="section-number">01 — APPROACH</span>
                    <h2>Visualisation Philosophy</h2>
                    <p class="section-tagline">Show the data, not just the summary</p>
                </div>
                
                <div class="philosophy-grid">
                    <div class="philosophy-card">
                        <div class="philosophy-icon">
                            <img src="assets/images/data_point_icon.png" alt="Data points icon">
                        </div>
                        <h3>Individual Points</h3>
                        <p>Show every participant, not just averages. Each dot is a person.</p>
                    </div>
                    <div class="philosophy-card">
                        <div class="philosophy-icon">
                            <img src="assets/images/distribution_icon.png" alt="Distribution icon">
                        </div>
                        <h3>Distributions</h3>
                        <p>Use density plots to reveal the shape behind summary statistics.</p>
                    </div>
                    <div class="philosophy-card">
                        <div class="philosophy-icon">
                            <img src="assets/images/error_icon.png" alt="Error bars icon">
                        </div>
                        <h3>Uncertainty</h3>
                        <p>Always include error bars or confidence intervals.</p>
                    </div>
                    <div class="philosophy-card">
                        <div class="philosophy-icon">
                            <img src="assets/images/link_icon.png" alt="Linked data icon">
                        </div>
                        <h3>Paired Data</h3>
                        <p>Connect matched observations to reveal hidden patterns.</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 02: Research Visualisations -->
        <section class="content-section bg-white">
            <div class="section-inner">
                <div class="section-header">
                    <span class="section-number">02 — RESEARCH FIGURES</span>
                    <h2>Research Visualisations</h2>
                    <p class="section-intro">Publication-ready figures with reproducible R code. Click "View R Code" to see heavily commented code you can adapt for your own data.</p>
                </div>
                
                <!-- Raincloud Plot -->
                <div class="viz-card-expanded">
                    <div class="viz-card-header">
                        <div class="viz-card-image-large" onclick="openLightbox('assets/figures/raincloud_1.jpeg')">
                            <img src="assets/figures/raincloud_1.jpeg" alt="Raincloud plot showing novice vs expert performance">
                        </div>
                        <div class="viz-card-info">
                            <h3>Paired Raincloud Plot</h3>
                            <p>Combines density distributions on the sides, individual data points, connected paired observations (grey lines showing each participant's change), and group means with error bars. Perfect for showing within-subject changes between conditions.</p>
                            <span class="viz-card-tag">Paired Comparison</span>
                        </div>
                    </div>
                    <div class="code-toggle" onclick="toggleCode(this)">
                        <div class="code-toggle-left">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M16 18l6-6-6-6M8 6l-6 6 6 6"/>
                            </svg>
                            View R Code
                        </div>
                        <div class="code-toggle-right">
                            <button class="copy-code-btn" onclick="event.stopPropagation(); copyCode(this)">Copy</button>
                            <span class="code-expand-icon">▼</span>
                        </div>
                    </div>
                    <div class="code-collapsible">
                        <div class="code-block">
                            <pre><span class="comment"># ============================================================</span>
<span class="comment"># RAINCLOUD PLOT - Group Comparison Visualisation</span>
<span class="comment"># ============================================================</span>
<span class="comment"># This code creates a "raincloud plot" which combines:</span>
<span class="comment">#   - A density distribution (shows the shape of your data)</span>
<span class="comment">#   - A box plot (shows median, quartiles, outliers)</span>
<span class="comment">#   - Individual data points (shows every participant)</span>
<span class="comment">#</span>
<span class="comment"># WHAT YOU NEED TO CHANGE:</span>
<span class="comment">#   1. Replace 'your_data.csv' with your file name</span>
<span class="comment">#   2. Replace 'group' with your grouping variable name</span>
<span class="comment">#   3. Replace 'score' with your outcome variable name</span>
<span class="comment">#   4. Adjust colours to match your preferences</span>
<span class="comment"># ============================================================</span>

<span class="comment"># Load required packages</span>
<span class="comment"># If you don't have these, run: install.packages(c("ggplot2", "ggdist", "dplyr"))</span>
<span class="keyword">library</span>(ggplot2)
<span class="keyword">library</span>(ggdist)
<span class="keyword">library</span>(dplyr)

<span class="comment"># ------------------------------------------------------------</span>
<span class="comment"># STEP 1: Load your data</span>
<span class="comment"># ------------------------------------------------------------</span>
<span class="comment"># Your CSV should have columns for:</span>
<span class="comment">#   - A grouping variable (e.g., "Control" vs "Treatment")</span>
<span class="comment">#   - A numeric outcome variable (e.g., test scores)</span>

data <span class="operator">&lt;-</span> <span class="function">read.csv</span>(<span class="string">"your_data.csv"</span>)

<span class="comment"># Quick check: see first few rows of your data</span>
<span class="function">head</span>(data)

<span class="comment"># ------------------------------------------------------------</span>
<span class="comment"># STEP 2: Define your colours</span>
<span class="comment"># ------------------------------------------------------------</span>
<span class="comment"># Change these hex codes to match your preferred colours</span>
<span class="comment"># Tip: Use https://coolors.co to find nice colour combinations</span>

group_colours <span class="operator">&lt;-</span> <span class="function">c</span>(
  <span class="string">"Control"</span> <span class="operator">=</span> <span class="string">"#92A4D2"</span>,    <span class="comment"># Soft blue for control group</span>
  <span class="string">"Treatment"</span> <span class="operator">=</span> <span class="string">"#75352D"</span>  <span class="comment"># Rust for treatment group</span>
)

<span class="comment"># ------------------------------------------------------------</span>
<span class="comment"># STEP 3: Create the raincloud plot</span>
<span class="comment"># ------------------------------------------------------------</span>

raincloud_plot <span class="operator">&lt;-</span> <span class="function">ggplot</span>(data, <span class="function">aes</span>(
  x <span class="operator">=</span> group,           <span class="comment"># CHANGE: your grouping variable</span>
  y <span class="operator">=</span> score,           <span class="comment"># CHANGE: your outcome variable</span>
  fill <span class="operator">=</span> group,        <span class="comment"># Colours by group</span>
  colour <span class="operator">=</span> group       <span class="comment"># Outline colours by group</span>
)) <span class="operator">+</span>
  
  <span class="comment"># --- The "cloud" (density distribution) ---</span>
  <span class="comment"># This shows the shape of your data distribution</span>
  <span class="function">stat_halfeye</span>(
    adjust <span class="operator">=</span> <span class="number">0.5</span>,           <span class="comment"># Smoothness of the density curve</span>
    width <span class="operator">=</span> <span class="number">0.6</span>,            <span class="comment"># Width of the density "cloud"</span>
    justification <span class="operator">=</span> <span class="number">-0.2</span>,   <span class="comment"># Position (negative = above the boxplot)</span>
    .width <span class="operator">=</span> <span class="number">0</span>,             <span class="comment"># Don't show interval lines</span>
    point_colour <span class="operator">=</span> <span class="function">NA</span>       <span class="comment"># Don't show point estimate</span>
  ) <span class="operator">+</span>
  
  <span class="comment"># --- The box plot ---</span>
  <span class="comment"># Shows median, interquartile range, and outliers</span>
  <span class="function">geom_boxplot</span>(
    width <span class="operator">=</span> <span class="number">0.15</span>,           <span class="comment"># Width of the box</span>
    outlier.shape <span class="operator">=</span> <span class="function">NA</span>,     <span class="comment"># Hide outliers (we show all points anyway)</span>
    alpha <span class="operator">=</span> <span class="number">0.5</span>             <span class="comment"># Transparency (0 = invisible, 1 = solid)</span>
  ) <span class="operator">+</span>
  
  <span class="comment"># --- The "rain" (individual data points) ---</span>
  <span class="comment"># Each dot represents one participant</span>
  <span class="function">geom_jitter</span>(
    width <span class="operator">=</span> <span class="number">0.05</span>,           <span class="comment"># Horizontal spread of points</span>
    alpha <span class="operator">=</span> <span class="number">0.6</span>,            <span class="comment"># Transparency of points</span>
    size <span class="operator">=</span> <span class="number">2</span>               <span class="comment"># Size of points</span>
  ) <span class="operator">+</span>
  
  <span class="comment"># --- Apply your colours ---</span>
  <span class="function">scale_fill_manual</span>(values <span class="operator">=</span> group_colours) <span class="operator">+</span>
  <span class="function">scale_colour_manual</span>(values <span class="operator">=</span> group_colours) <span class="operator">+</span>
  
  <span class="comment"># --- Labels ---</span>
  <span class="comment"># CHANGE these to match your study</span>
  <span class="function">labs</span>(
    title <span class="operator">=</span> <span class="string">"Comparison of Scores by Group"</span>,
    subtitle <span class="operator">=</span> <span class="string">"Each dot represents one participant"</span>,
    x <span class="operator">=</span> <span class="string">"Group"</span>,
    y <span class="operator">=</span> <span class="string">"Score"</span>,
    caption <span class="operator">=</span> <span class="string">"Visualisation shows density, boxplot, and individual data points"</span>
  ) <span class="operator">+</span>
  
  <span class="comment"># --- Clean theme ---</span>
  <span class="function">theme_minimal</span>(base_size <span class="operator">=</span> <span class="number">14</span>) <span class="operator">+</span>
  <span class="function">theme</span>(
    legend.position <span class="operator">=</span> <span class="string">"none"</span>,              <span class="comment"># Hide legend (groups are on x-axis)</span>
    panel.grid.major.x <span class="operator">=</span> <span class="function">element_blank</span>(), <span class="comment"># Remove vertical grid lines</span>
    plot.title <span class="operator">=</span> <span class="function">element_text</span>(face <span class="operator">=</span> <span class="string">"bold"</span>)
  )

<span class="comment"># --- Display the plot ---</span>
<span class="function">print</span>(raincloud_plot)

<span class="comment"># ------------------------------------------------------------</span>
<span class="comment"># STEP 4: Save the plot</span>
<span class="comment"># ------------------------------------------------------------</span>
<span class="comment"># Adjust width, height, and dpi for your needs</span>
<span class="comment"># dpi = 300 is good for publications</span>

<span class="function">ggsave</span>(
  <span class="string">"raincloud_plot.png"</span>,
  plot <span class="operator">=</span> raincloud_plot,
  width <span class="operator">=</span> <span class="number">8</span>,
  height <span class="operator">=</span> <span class="number">6</span>,
  dpi <span class="operator">=</span> <span class="number">300</span>
)</pre>
                        </div>
                    </div>
                </div>

                <!-- Correlation Matrix -->
                <div class="viz-card-expanded">
                    <div class="viz-card-header">
                        <div class="viz-card-image-large" onclick="openLightbox('assets/figures/correlation_jpg.png')">
                            <img src="assets/figures/correlation_jpg.png" alt="Correlation matrix showing relationships between cognitive variables">
                        </div>
                        <div class="viz-card-info">
                            <h3>Correlation Matrix</h3>
                            <p>Visualise relationships between multiple variables at once. Circle size indicates correlation strength, colour shows direction (green = negative, blue = positive), and asterisks mark statistical significance.</p>
                            <span class="viz-card-tag">Relationships</span>
                        </div>
                    </div>
                    <div class="code-toggle" onclick="toggleCode(this)">
                        <div class="code-toggle-left">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M16 18l6-6-6-6M8 6l-6 6 6 6"/>
                            </svg>
                            View R Code
                        </div>
                        <div class="code-toggle-right">
                            <button class="copy-code-btn" onclick="event.stopPropagation(); copyCode(this)">Copy</button>
                            <span class="code-expand-icon">▼</span>
                        </div>
                    </div>
                    <div class="code-collapsible">
                        <div class="code-block">
                            <pre><span class="comment"># ============================================================</span>
<span class="comment"># CORRELATION HEATMAP - Visualise Variable Relationships</span>
<span class="comment"># ============================================================</span>
<span class="comment"># This creates a colour-coded matrix showing correlations</span>
<span class="comment"># between all pairs of numeric variables in your dataset.</span>
<span class="comment">#</span>
<span class="comment"># WHAT YOU NEED TO CHANGE:</span>
<span class="comment">#   1. Replace 'your_data.csv' with your file name</span>
<span class="comment">#   2. Select which columns to include in the correlation</span>
<span class="comment">#   3. Adjust colours if desired</span>
<span class="comment"># ============================================================</span>

<span class="comment"># Load required packages</span>
<span class="keyword">library</span>(ggplot2)
<span class="keyword">library</span>(dplyr)
<span class="keyword">library</span>(tidyr)
<span class="keyword">library</span>(corrr)      <span class="comment"># Makes correlation matrices easy</span>

<span class="comment"># ------------------------------------------------------------</span>
<span class="comment"># STEP 1: Load and prepare your data</span>
<span class="comment"># ------------------------------------------------------------</span>

data <span class="operator">&lt;-</span> <span class="function">read.csv</span>(<span class="string">"your_data.csv"</span>)

<span class="comment"># Select only the numeric columns you want to correlate</span>
<span class="comment"># CHANGE: list the column names you want to include</span>
numeric_vars <span class="operator">&lt;-</span> data <span class="operator">%>%</span>
  <span class="function">select</span>(
    variable_1,    <span class="comment"># CHANGE: your variable names</span>
    variable_2,
    variable_3,
    variable_4,
    variable_5
  )

<span class="comment"># ------------------------------------------------------------</span>
<span class="comment"># STEP 2: Calculate correlations</span>
<span class="comment"># ------------------------------------------------------------</span>

<span class="comment"># Create correlation matrix</span>
<span class="comment"># method options: "pearson" (default), "spearman", "kendall"</span>
cor_matrix <span class="operator">&lt;-</span> numeric_vars <span class="operator">%>%</span>
  <span class="function">correlate</span>(method <span class="operator">=</span> <span class="string">"pearson"</span>) <span class="operator">%>%</span>
  <span class="function">shave</span>()  <span class="comment"># Remove upper triangle (redundant)</span>

<span class="comment"># Convert to long format for ggplot</span>
cor_long <span class="operator">&lt;-</span> cor_matrix <span class="operator">%>%</span>
  <span class="function">pivot_longer</span>(
    cols <span class="operator">=</span> <span class="operator">-</span>term,
    names_to <span class="operator">=</span> <span class="string">"variable"</span>,
    values_to <span class="operator">=</span> <span class="string">"correlation"</span>
  ) <span class="operator">%>%</span>
  <span class="function">filter</span>(<span class="operator">!</span><span class="function">is.na</span>(correlation))  <span class="comment"># Remove NA values</span>

<span class="comment"># ------------------------------------------------------------</span>
<span class="comment"># STEP 3: Create the heatmap</span>
<span class="comment"># ------------------------------------------------------------</span>

heatmap_plot <span class="operator">&lt;-</span> <span class="function">ggplot</span>(cor_long, <span class="function">aes</span>(
  x <span class="operator">=</span> term,
  y <span class="operator">=</span> variable,
  fill <span class="operator">=</span> correlation
)) <span class="operator">+</span>
  
  <span class="comment"># --- The tiles ---</span>
  <span class="function">geom_tile</span>(colour <span class="operator">=</span> <span class="string">"white"</span>, linewidth <span class="operator">=</span> <span class="number">0.5</span>) <span class="operator">+</span>
  
  <span class="comment"># --- Add correlation values as text ---</span>
  <span class="function">geom_text</span>(
    <span class="function">aes</span>(label <span class="operator">=</span> <span class="function">round</span>(correlation, <span class="number">2</span>)),
    colour <span class="operator">=</span> <span class="string">"white"</span>,
    size <span class="operator">=</span> <span class="number">4</span>,
    fontface <span class="operator">=</span> <span class="string">"bold"</span>
  ) <span class="operator">+</span>
  
  <span class="comment"># --- Colour scale ---</span>
  <span class="comment"># Blue = negative, White = zero, Red = positive</span>
  <span class="function">scale_fill_gradient2</span>(
    low <span class="operator">=</span> <span class="string">"#92A4D2"</span>,      <span class="comment"># Negative correlations</span>
    mid <span class="operator">=</span> <span class="string">"white"</span>,        <span class="comment"># Zero correlation</span>
    high <span class="operator">=</span> <span class="string">"#75352D"</span>,     <span class="comment"># Positive correlations</span>
    midpoint <span class="operator">=</span> <span class="number">0</span>,
    limits <span class="operator">=</span> <span class="function">c</span>(<span class="number">-1</span>, <span class="number">1</span>),
    name <span class="operator">=</span> <span class="string">"Correlation"</span>
  ) <span class="operator">+</span>
  
  <span class="comment"># --- Labels ---</span>
  <span class="function">labs</span>(
    title <span class="operator">=</span> <span class="string">"Correlation Matrix"</span>,
    subtitle <span class="operator">=</span> <span class="string">"Pearson correlations between study variables"</span>,
    x <span class="operator">=</span> <span class="string">""</span>,
    y <span class="operator">=</span> <span class="string">""</span>
  ) <span class="operator">+</span>
  
  <span class="comment"># --- Clean theme ---</span>
  <span class="function">theme_minimal</span>(base_size <span class="operator">=</span> <span class="number">14</span>) <span class="operator">+</span>
  <span class="function">theme</span>(
    axis.text.x <span class="operator">=</span> <span class="function">element_text</span>(angle <span class="operator">=</span> <span class="number">45</span>, hjust <span class="operator">=</span> <span class="number">1</span>),
    panel.grid <span class="operator">=</span> <span class="function">element_blank</span>(),
    plot.title <span class="operator">=</span> <span class="function">element_text</span>(face <span class="operator">=</span> <span class="string">"bold"</span>)
  ) <span class="operator">+</span>
  
  <span class="comment"># --- Square tiles ---</span>
  <span class="function">coord_fixed</span>()

<span class="comment"># --- Display the plot ---</span>
<span class="function">print</span>(heatmap_plot)

<span class="comment"># ------------------------------------------------------------</span>
<span class="comment"># STEP 4: Save the plot</span>
<span class="comment"># ------------------------------------------------------------</span>

<span class="function">ggsave</span>(
  <span class="string">"correlation_heatmap.png"</span>,
  plot <span class="operator">=</span> heatmap_plot,
  width <span class="operator">=</span> <span class="number">8</span>,
  height <span class="operator">=</span> <span class="number">7</span>,
  dpi <span class="operator">=</span> <span class="number">300</span>
)</pre>
                        </div>
                    </div>
                </div>

                <!-- Longitudinal Plot -->
                <div class="viz-card-expanded">
                    <div class="viz-card-header">
                        <div class="viz-card-image-large" onclick="openLightbox('assets/figures/longitudinal_1.png')">
                            <img src="assets/figures/longitudinal_1.png" alt="Longitudinal plot showing belief ratings across time points">
                        </div>
                        <div class="viz-card-info">
                            <h3>Repeated Measures Plot</h3>
                            <p>Track changes across multiple time points with box plots showing distributions, individual data points (jittered), and connected group means. Ideal for intervention studies with pre-post and follow-up measurements.</p>
                            <span class="viz-card-tag">Time Series</span>
                        </div>
                    </div>
                    <div class="code-toggle" onclick="toggleCode(this)">
                        <div class="code-toggle-left">
                            <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M16 18l6-6-6-6M8 6l-6 6 6 6"/>
                            </svg>
                            View R Code
                        </div>
                        <div class="code-toggle-right">
                            <button class="copy-code-btn" onclick="event.stopPropagation(); copyCode(this)">Copy</button>
                            <span class="code-expand-icon">▼</span>
                        </div>
                    </div>
                    <div class="code-collapsible">
                        <div class="code-block">
                            <pre><span class="comment"># ============================================================</span>
<span class="comment"># LONGITUDINAL TRAJECTORIES - Individual Change Over Time</span>
<span class="comment"># ============================================================</span>
<span class="comment"># This creates a "spaghetti plot" showing:</span>
<span class="comment">#   - Individual participant trajectories (thin lines)</span>
<span class="comment">#   - Group means with confidence intervals (thick line + ribbon)</span>
<span class="comment">#</span>
<span class="comment"># WHAT YOU NEED TO CHANGE:</span>
<span class="comment">#   1. Replace 'your_data.csv' with your file name</span>
<span class="comment">#   2. Replace variable names (participant_id, time, score, group)</span>
<span class="comment">#   3. Adjust colours to match your groups</span>
<span class="comment"># ============================================================</span>

<span class="comment"># Load required packages</span>
<span class="keyword">library</span>(ggplot2)
<span class="keyword">library</span>(dplyr)

<span class="comment"># ------------------------------------------------------------</span>
<span class="comment"># STEP 1: Load your data</span>
<span class="comment"># ------------------------------------------------------------</span>
<span class="comment"># Your data should be in LONG format with columns:</span>
<span class="comment">#   - participant_id: unique ID for each person</span>
<span class="comment">#   - time: time point (e.g., 1, 2, 3 or "Pre", "Post")</span>
<span class="comment">#   - score: your outcome measure</span>
<span class="comment">#   - group: grouping variable (optional)</span>

data <span class="operator">&lt;-</span> <span class="function">read.csv</span>(<span class="string">"your_data.csv"</span>)

<span class="comment"># Check your data structure</span>
<span class="function">head</span>(data)

<span class="comment"># ------------------------------------------------------------</span>
<span class="comment"># STEP 2: Calculate group summaries</span>
<span class="comment"># ------------------------------------------------------------</span>

group_summary <span class="operator">&lt;-</span> data <span class="operator">%>%</span>
  <span class="function">group_by</span>(time, group) <span class="operator">%>%</span>  <span class="comment"># CHANGE: your variable names</span>
  <span class="function">summarise</span>(
    mean_score <span class="operator">=</span> <span class="function">mean</span>(score, na.rm <span class="operator">=</span> <span class="keyword">TRUE</span>),
    se <span class="operator">=</span> <span class="function">sd</span>(score, na.rm <span class="operator">=</span> <span class="keyword">TRUE</span>) <span class="operator">/</span> <span class="function">sqrt</span>(<span class="function">n</span>()),
    lower <span class="operator">=</span> mean_score <span class="operator">-</span> <span class="number">1.96</span> <span class="operator">*</span> se,  <span class="comment"># 95% CI</span>
    upper <span class="operator">=</span> mean_score <span class="operator">+</span> <span class="number">1.96</span> <span class="operator">*</span> se,
    .groups <span class="operator">=</span> <span class="string">"drop"</span>
  )

<span class="comment"># ------------------------------------------------------------</span>
<span class="comment"># STEP 3: Define colours</span>
<span class="comment"># ------------------------------------------------------------</span>

group_colours <span class="operator">&lt;-</span> <span class="function">c</span>(
  <span class="string">"Control"</span> <span class="operator">=</span> <span class="string">"#92A4D2"</span>,
  <span class="string">"Treatment"</span> <span class="operator">=</span> <span class="string">"#75352D"</span>
)

<span class="comment"># ------------------------------------------------------------</span>
<span class="comment"># STEP 4: Create the plot</span>
<span class="comment"># ------------------------------------------------------------</span>

trajectory_plot <span class="operator">&lt;-</span> <span class="function">ggplot</span>() <span class="operator">+</span>
  
  <span class="comment"># --- Individual trajectories (the "spaghetti") ---</span>
  <span class="comment"># Thin, semi-transparent lines for each participant</span>
  <span class="function">geom_line</span>(
    data <span class="operator">=</span> data,
    <span class="function">aes</span>(
      x <span class="operator">=</span> time,              <span class="comment"># CHANGE: your time variable</span>
      y <span class="operator">=</span> score,             <span class="comment"># CHANGE: your outcome variable</span>
      group <span class="operator">=</span> participant_id, <span class="comment"># CHANGE: your ID variable</span>
      colour <span class="operator">=</span> group         <span class="comment"># CHANGE: your grouping variable</span>
    ),
    alpha <span class="operator">=</span> <span class="number">0.3</span>,             <span class="comment"># Transparency (lower = more faded)</span>
    linewidth <span class="operator">=</span> <span class="number">0.5</span>         <span class="comment"># Line thickness</span>
  ) <span class="operator">+</span>
  
  <span class="comment"># --- Confidence ribbon for group means ---</span>
  <span class="function">geom_ribbon</span>(
    data <span class="operator">=</span> group_summary,
    <span class="function">aes</span>(
      x <span class="operator">=</span> time,
      ymin <span class="operator">=</span> lower,
      ymax <span class="operator">=</span> upper,
      fill <span class="operator">=</span> group
    ),
    alpha <span class="operator">=</span> <span class="number">0.2</span>
  ) <span class="operator">+</span>
  
  <span class="comment"># --- Group mean lines ---</span>
  <span class="function">geom_line</span>(
    data <span class="operator">=</span> group_summary,
    <span class="function">aes</span>(
      x <span class="operator">=</span> time,
      y <span class="operator">=</span> mean_score,
      colour <span class="operator">=</span> group
    ),
    linewidth <span class="operator">=</span> <span class="number">2</span>
  ) <span class="operator">+</span>
  
  <span class="comment"># --- Group mean points ---</span>
  <span class="function">geom_point</span>(
    data <span class="operator">=</span> group_summary,
    <span class="function">aes</span>(
      x <span class="operator">=</span> time,
      y <span class="operator">=</span> mean_score,
      colour <span class="operator">=</span> group
    ),
    size <span class="operator">=</span> <span class="number">4</span>
  ) <span class="operator">+</span>
  
  <span class="comment"># --- Apply colours ---</span>
  <span class="function">scale_colour_manual</span>(values <span class="operator">=</span> group_colours) <span class="operator">+</span>
  <span class="function">scale_fill_manual</span>(values <span class="operator">=</span> group_colours) <span class="operator">+</span>
  
  <span class="comment"># --- Labels ---</span>
  <span class="function">labs</span>(
    title <span class="operator">=</span> <span class="string">"Individual Trajectories Over Time"</span>,
    subtitle <span class="operator">=</span> <span class="string">"Thin lines = individuals, thick lines = group means with 95% CI"</span>,
    x <span class="operator">=</span> <span class="string">"Time Point"</span>,
    y <span class="operator">=</span> <span class="string">"Score"</span>,
    colour <span class="operator">=</span> <span class="string">"Group"</span>,
    fill <span class="operator">=</span> <span class="string">"Group"</span>
  ) <span class="operator">+</span>
  
  <span class="comment"># --- Clean theme ---</span>
  <span class="function">theme_minimal</span>(base_size <span class="operator">=</span> <span class="number">14</span>) <span class="operator">+</span>
  <span class="function">theme</span>(
    legend.position <span class="operator">=</span> <span class="string">"bottom"</span>,
    panel.grid.minor <span class="operator">=</span> <span class="function">element_blank</span>(),
    plot.title <span class="operator">=</span> <span class="function">element_text</span>(face <span class="operator">=</span> <span class="string">"bold"</span>)
  )

<span class="comment"># --- Display the plot ---</span>
<span class="function">print</span>(trajectory_plot)

<span class="comment"># ------------------------------------------------------------</span>
<span class="comment"># STEP 5: Save the plot</span>
<span class="comment"># ------------------------------------------------------------</span>

<span class="function">ggsave</span>(
  <span class="string">"longitudinal_trajectories.png"</span>,
  plot <span class="operator">=</span> trajectory_plot,
  width <span class="operator">=</span> <span class="number">10</span>,
  height <span class="operator">=</span> <span class="number">6</span>,
  dpi <span class="operator">=</span> <span class="number">300</span>
)</pre>
                        </div>
                    </div>
                </div>

                <!-- Not Comfortable with R? Accordion -->
                <div class="r-help-accordion">
                    <div class="r-help-toggle" onclick="toggleRHelp(this)">
                        <div class="r-help-toggle-left">
                            <h3>Not Comfortable with R?</h3>
                            <p>Use an LLM to help create these visualisations with your data</p>
                        </div>
                        <span class="r-help-expand-icon">+</span>
                    </div>
                    <div class="r-help-content">
                        <p>
                            If you like these visualisation styles but aren't ready to dive into R code, you can 
                            use a large language model (like ChatGPT or Claude) to help create them with your data.
                        </p>
                        
                        <div class="r-help-steps">
                            <div class="r-help-step">
                                <span class="step-number">1</span>
                                <div><strong>Screenshot the visualisation</strong> you want to recreate from this page</div>
                            </div>
                            <div class="r-help-step">
                                <span class="step-number">2</span>
                                <div><strong>Prepare your de-identified data</strong> as a CSV file</div>
                            </div>
                            <div class="r-help-step">
                                <span class="step-number">3</span>
                                <div><strong>Upload both to an LLM</strong> and ask it to write R code to create that visualisation with your data</div>
                            </div>
                        </div>

                        <div class="prompt-box">
                            <div class="prompt-header">
                                <span>Example Prompt</span>
                                <button class="copy-prompt-btn" onclick="copyPrompt(this)">Copy</button>
                            </div>
                            <div class="prompt-text">I want to create a raincloud plot that looks like this [screenshot]. My data has two groups (treatment and control) comparing test scores. Can you write R code to create this visualisation with my data? Please include comments explaining what each part does.</div>
                        </div>

                        <p>
                            The LLM can also help you troubleshoot errors, adjust colours, modify labels, and 
                            adapt the code to your specific data structure.
                        </p>

                        <div class="ethics-warning">
                            <strong>Ethics Reminder:</strong> Only upload de-identified data. Never share private, confidential, 
                            or identifiable information with LLMs. Check with your ethics committee if you're unsure.
                        </div>
                    </div>
                </div>

            </div>
        </section>

        <!-- Section 03: Methods Diagrams -->
        <section class="content-section bg-cream">
            <div class="section-inner">
                <div class="section-header">
                    <span class="section-number">03 — STUDY DESIGN</span>
                    <h2>Methods Diagrams</h2>
                    <p class="section-intro">Clear visual explanations of research procedures, study designs, and data collection processes.</p>
                </div>
                
                <div class="viz-grid">
                    <div class="viz-card" onclick="openLightbox('assets/diagrams/method_diagram_1.jpg')">
                        <div class="viz-card-image">
                            <img src="assets/diagrams/method_diagram_1.jpg" alt="Delayed match-to-sample memory task procedure">
                        </div>
                        <div class="viz-card-content">
                            <h3>Procedure Timeline</h3>
                            <p>Delayed match-to-sample memory task for fingerprint recognition</p>
                            <span class="viz-card-tag">Experimental Task</span>
                        </div>
                    </div>
                    <div class="viz-card" onclick="openLightbox('assets/diagrams/method_diagram_2.jpg')">
                        <div class="viz-card-image">
                            <img src="assets/diagrams/method_diagram_2.jpg" alt="Randomised controlled trial design">
                        </div>
                        <div class="viz-card-content">
                            <h3>RCT Design</h3>
                            <p>Randomised controlled trial with three conditions and longitudinal follow-up</p>
                            <span class="viz-card-tag">Study Design</span>
                        </div>
                    </div>
                    <div class="viz-card" onclick="openLightbox('assets/diagrams/method_diagram_3.jpg')">
                        <div class="viz-card-image">
                            <img src="assets/diagrams/method_diagram_3.jpg" alt="Matched-pairs experimental design">
                        </div>
                        <div class="viz-card-content">
                            <h3>Matched-Pairs Design</h3>
                            <p>Expert-novice comparison with matched controls on age, gender, and education</p>
                            <span class="viz-card-tag">Experimental Design</span>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Section 04: Infographics -->
        <section class="content-section bg-white">
            <div class="section-inner">
                <div class="section-header">
                    <span class="section-number">04 — COMMUNICATION</span>
                    <h2>Research Infographics</h2>
                    <p class="section-intro">Transforming complex research findings into clear, engaging visual summaries for broader audiences.</p>
                    <div class="tool-badge">
                        Created with Nano Banana Pro
                    </div>
                </div>
                
                <div class="infographics-grid">
                    <div class="infographic-card" onclick="openLightbox('assets/infographics/infographic_1.png', 'small')">
                        <div class="infographic-card-image">
                            <img src="assets/infographics/infographic_1.png" alt="AI Tutors vs Tenacious Myths infographic">
                        </div>
                        <div class="infographic-card-content">
                            <h3>AI Tutors vs. Tenacious Myths</h3>
                            <p>Can personalised AI dialogue change minds about persistent educational misconceptions?</p>
                        </div>
                    </div>
                    <div class="infographic-card" onclick="openLightbox('assets/infographics/infographic_2.png', 'small')">
                        <div class="infographic-card-image">
                            <img src="assets/infographics/infographic_2.png" alt="Student Experiences with AI Learning Tools infographic">
                        </div>
                        <div class="infographic-card-content">
                            <h3>Student Experiences with AI Tools</h3>
                            <p>Navigating the gap between educational practice and emerging professional needs.</p>
                        </div>
                    </div>
                    <div class="infographic-card" onclick="openLightbox('assets/infographics/infographic_3.png', 'small')">
                        <div class="infographic-card-image">
                            <img src="assets/infographics/infographic_3.png" alt="Mining Supervisor Competencies infographic">
                        </div>
                        <div class="infographic-card-content">
                            <h3>Mining Supervisor Competencies</h3>
                            <p>Industry perspectives on holistic workforce development beyond technical compliance.</p>
                        </div>
                    </div>
                </div>

                <!-- Create Your Own Expandable Section -->
                <div class="create-own-section">
                    <div class="create-own-toggle" onclick="toggleCreateOwn(this)">
                        <div class="create-own-toggle-left">
                            <h3>Create Your Own</h3>
                            <p>Turn any research paper into a visual summary</p>
                        </div>
                        <span class="create-own-expand-icon">+</span>
                    </div>
                    <div class="create-own-content">
                        <p>
                            These infographics were created using Nano Banana Pro, Google DeepMind’s new image-generation and editing model built on Gemini 3 Pro. It produces accurate, high-quality visuals with legible text across multiple languages. Here’s how to create your own research summary:
                        </p>
                        
                        <div class="create-own-steps">
                            <div class="create-own-step">
                                <span class="step-number">1</span>
                                <div>
                                    <strong>Upload your paper</strong> — Paste in or upload your paper. Nano Banana Pro works best with the abstract and key findings sections.
                                </div>
                            </div>
                            <div class="create-own-step">
                                <span class="step-number">2</span>
                                <div>
                                    <strong>Use this prompt</strong> — Copy and adapt the prompt below to guide the AI.
                                </div>
                            </div>
                            <div class="create-own-step">
                                <span class="step-number">3</span>
                                <div>
                                    <strong>Iterate and refine</strong> — Adjust colours, layout, and text density to suit your audience.
                                </div>
                            </div>
                        </div>

                        <div class="prompt-box">
                            <div class="prompt-header">
                                <span>Example Prompt</span>
                                <button class="copy-prompt-btn" onclick="copyPrompt(this)">Copy</button>
                            </div>
                            <div class="prompt-text">Create a research infographic summarising this paper. Structure it with:

1. A clear title and subtitle at the top
2. A brief "The Problem" or "Context" section
3. A visual representation of the methodology
4. Key findings with simple icons or diagrams
5. Practical implications or takeaways at the bottom

Style guidelines:
- Use a cohesive colour palette (2-3 main colours)
- Keep text concise — bullet points over paragraphs
- Include visual icons to break up text
- Make the flow logical from top to bottom
- Ensure it's readable at [insert desired size, e.g., A4/poster]

The audience is [academics/practitioners/general public] so adjust the technical language accordingly.</div>
                        </div>

                        <p class="create-own-note">
                            <strong>Tip:</strong> After generating, you can ask Nano Banana Pro to adjust specific elements — 
                            "make the colours more muted", "add more white space", or "simplify the methodology diagram".
                        </p>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer>
        <p>&copy; 2025 Brooklyn Corbett</p>
    </footer>

    <!-- Scripts -->
    <script>
        // Mobile nav
        document.getElementById('hamburger').addEventListener('click', function() {
            document.getElementById('navLinks').classList.toggle('active');
            this.classList.toggle('active');
        });

        // Toggle Create Your Own section
        function toggleCreateOwn(toggle) {
            toggle.classList.toggle('expanded');
            const content = toggle.nextElementSibling;
            content.classList.toggle('show');
        }

        // Toggle R Help accordion
        function toggleRHelp(toggle) {
            toggle.classList.toggle('expanded');
            const content = toggle.nextElementSibling;
            content.classList.toggle('show');
        }

        // Copy prompt to clipboard
        function copyPrompt(button) {
            const promptText = button.closest('.prompt-box').querySelector('.prompt-text').textContent;
            
            navigator.clipboard.writeText(promptText).then(() => {
                button.textContent = 'Copied!';
                button.classList.add('copied');
                setTimeout(() => {
                    button.textContent = 'Copy';
                    button.classList.remove('copied');
                }, 2000);
            }).catch(() => {
                // Fallback
                const textarea = document.createElement('textarea');
                textarea.value = promptText;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                button.textContent = 'Copied!';
                button.classList.add('copied');
                setTimeout(() => {
                    button.textContent = 'Copy';
                    button.classList.remove('copied');
                }, 2000);
            });
        }

        // Toggle code visibility
        function toggleCode(toggle) {
            toggle.classList.toggle('expanded');
            const collapsible = toggle.nextElementSibling;
            collapsible.classList.toggle('show');
        }

        // Copy code to clipboard
        function copyCode(button) {
            const codeBlock = button.closest('.viz-card-expanded').querySelector('pre');
            const text = codeBlock.textContent;
            
            navigator.clipboard.writeText(text).then(() => {
                button.textContent = 'Copied!';
                button.classList.add('copied');
                setTimeout(() => {
                    button.textContent = 'Copy';
                    button.classList.remove('copied');
                }, 2000);
            }).catch(() => {
                // Fallback for older browsers
                const textarea = document.createElement('textarea');
                textarea.value = text;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                button.textContent = 'Copied!';
                button.classList.add('copied');
                setTimeout(() => {
                    button.textContent = 'Copy';
                    button.classList.remove('copied');
                }, 2000);
            });
        }

        // Lightbox functions
        function openLightbox(src, size) {
            if (src && !src.includes('placeholder')) {
                const lightbox = document.getElementById('lightbox');
                const lightboxImg = document.getElementById('lightboxImg');
                lightboxImg.src = src;
                // Remove any size classes first
                lightboxImg.classList.remove('infographic');
                // Add size class if specified
                if (size === 'small') {
                    lightboxImg.classList.add('infographic');
                }
                lightbox.classList.add('active');
                document.body.style.overflow = 'hidden';
            }
        }

        function closeLightbox() {
            const lightbox = document.getElementById('lightbox');
            lightbox.classList.remove('active');
            document.body.style.overflow = '';
        }

        // Close lightbox on overlay click
        document.getElementById('lightbox').addEventListener('click', function(e) {
            if (e.target === this) {
                closeLightbox();
            }
        });

        // Close lightbox on Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeLightbox();
            }
        });
    </script>
</body>
</html>
