<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Data Visualisation Gallery - R code for transparent, publication-ready figures">
    <title>Data Visualisation | Brooklyn Corbett</title>
    
    <!-- Google Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,400;0,600;0,700;1,400&family=Inter:wght@400;500;600;700&family=Fira+Code:wght@400;500&display=swap" rel="stylesheet">
    
    <link rel="stylesheet" href="css/global.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    
    <style>
        :root {
            --cream: #F1DDC4;
            --rust: #75352D;
            --dark-burgundy: #3A1213;
            --soft-blue: #92A4D2;
            --expert-purple: #7B5EA7;
            --novice-gold: #E9B44C;
            --code-bg: #1e1e2e;
            --code-text: #cdd6f4;
            --code-comment: #6c7086;
            --code-string: #a6e3a1;
            --code-keyword: #cba6f7;
            --code-function: #89b4fa;
        }

        main {
            max-width: none;
            padding: 0;
            margin-top: 0;
        }

        /* Hero Section - Split Layout */
        .viz-hero {
            min-height: 90vh;
            background: linear-gradient(135deg, var(--dark-burgundy) 0%, #4a1a1b 50%, #2a0d0e 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 6rem 4rem 4rem;
            position: relative;
        }

        .hero-split {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 4rem;
            max-width: 1300px;
            width: 100%;
            align-items: center;
        }

        .hero-image-container {
            border-radius: 12px;
            overflow: hidden;
            box-shadow: 0 25px 80px rgba(0, 0, 0, 0.4);
        }

        .hero-image-container img {
            width: 100%;
            height: auto;
            display: block;
        }

        .hero-content {
            text-align: left;
        }

        .viz-hero h1 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 3.5rem;
            font-weight: 700;
            color: white;
            margin-bottom: 1.5rem;
            line-height: 1.1;
        }

        .viz-hero-subtitle {
            font-size: 1.3rem;
            color: rgba(255, 255, 255, 0.85);
            line-height: 1.7;
        }

        .scroll-indicator {
            position: absolute;
            bottom: 5rem;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            flex-direction: column;
            align-items: center;
            gap: 0.5rem;
            color: rgba(255, 255, 255, 0.6);
            font-size: 0.8rem;
            animation: bounce 2s infinite;
            z-index: 10;
        }

        @keyframes bounce {
            0%, 100% { transform: translateX(-50%) translateY(0); }
            50% { transform: translateX(-50%) translateY(8px); }
        }

        /* Lightbox */
        .lightbox-overlay {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.95);
            z-index: 10000;
            justify-content: center;
            align-items: center;
            padding: 2rem;
            cursor: zoom-out;
        }

        .lightbox-overlay.active {
            display: flex;
        }

        .lightbox-content {
            max-width: 95vw;
            max-height: 90vh;
            object-fit: contain;
            border-radius: 8px;
            box-shadow: 0 20px 60px rgba(0, 0, 0, 0.5);
        }

        .lightbox-close {
            position: absolute;
            top: 1.5rem;
            right: 2rem;
            color: white;
            font-size: 2rem;
            cursor: pointer;
            opacity: 0.7;
            transition: opacity 0.2s;
        }

        .lightbox-close:hover {
            opacity: 1;
        }

        /* Smooth Section Transitions with Rounded Corners */
        .roll-section {
            position: relative;
            border-radius: 32px 32px 0 0;
            margin-top: -32px;
            box-shadow: 0 -5px 30px rgba(0, 0, 0, 0.08);
        }

        .roll-section:first-of-type {
            margin-top: 0;
        }

        /* Hero */
        .viz-hero {
            position: relative;
            z-index: 0;
            min-height: 85vh;
            padding-bottom: 4rem;
        }

        /* Philosophy Section - Clean & Minimal */
        .philosophy-section {
            padding: 4rem 2rem;
            background: var(--cream);
            position: relative;
        }

        .philosophy-inner {
            max-width: 900px;
            margin: 0 auto;
        }

        .philosophy-header {
            text-align: center;
            margin-bottom: 3rem;
        }

        .philosophy-header .section-number {
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--soft-blue);
            letter-spacing: 0.15em;
            display: block;
            margin-bottom: 1rem;
        }

        .philosophy-header h2 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--dark-burgundy);
            margin: 0 0 0.75rem 0;
        }

        .philosophy-header h2::after {
            display: none;
        }

        .philosophy-tagline {
            font-size: 1.2rem;
            color: var(--rust);
            font-style: italic;
            font-family: 'Cormorant Garamond', serif;
            margin-bottom: 0.5rem;
        }

        .philosophy-intro {
            font-size: 0.95rem;
            color: #6b5b53;
            margin-top: 0.5rem;
        }

        .philosophy-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
        }

        .philosophy-card {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.04);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            display: flex;
            align-items: flex-start;
            gap: 1rem;
        }

        .philosophy-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 30px rgba(0, 0, 0, 0.08);
        }

        .philosophy-icon {
            width: 44px;
            height: 44px;
            min-width: 44px;
            background: linear-gradient(135deg, var(--soft-blue), #7b8fc7);
            border-radius: 10px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.2rem;
            color: white;
        }

        .philosophy-card-content h3 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.1rem;
            font-weight: 600;
            color: var(--dark-burgundy);
            margin: 0 0 0.35rem 0;
        }

        .philosophy-card-content p {
            font-size: 0.85rem;
            color: #5a4a42;
            line-height: 1.5;
            margin: 0;
        }

        /* Gallery Section */
        .gallery-section {
            background: white;
            padding: 4rem 2rem;
        }

        .gallery-section .section-inner {
            max-width: 900px;
            margin: 0 auto;
        }

        .gallery-section .section-header {
            margin-bottom: 1.5rem;
        }

        /* Gallery Navigation */
        .gallery-nav {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-bottom: 1.5rem;
        }

        .gallery-tabs {
            display: flex;
            gap: 0.5rem;
        }

        .gallery-tab {
            background: transparent;
            border: 1px solid rgba(117, 53, 45, 0.2);
            padding: 0.6rem 1.1rem;
            border-radius: 25px;
            font-size: 0.85rem;
            font-weight: 500;
            color: var(--rust);
            cursor: pointer;
            transition: all 0.3s ease;
            font-family: 'Inter', sans-serif;
        }

        .gallery-tab:hover {
            background: rgba(117, 53, 45, 0.08);
            border-color: var(--rust);
        }

        .gallery-tab.active {
            background: var(--rust);
            color: white;
            border-color: var(--rust);
        }

        .gallery-arrows {
            display: flex;
            gap: 0.5rem;
        }

        .gallery-arrow {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            border: 1px solid rgba(117, 53, 45, 0.2);
            background: white;
            color: var(--rust);
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 1.1rem;
            transition: all 0.3s ease;
        }

        .gallery-arrow:hover {
            background: var(--rust);
            color: white;
            border-color: var(--rust);
        }

        .gallery-arrow:disabled {
            opacity: 0.3;
            cursor: not-allowed;
        }

        .gallery-arrow:disabled:hover {
            background: white;
            color: var(--rust);
        }

        /* Carousel */
        .carousel-container {
            position: relative;
            overflow: hidden;
        }

        .carousel-track {
            display: flex;
            transition: transform 0.5s cubic-bezier(0.4, 0, 0.2, 1);
        }

        .carousel-slide {
            min-width: 100%;
            opacity: 0;
            transition: opacity 0.3s ease;
        }

        .carousel-slide.active {
            opacity: 1;
        }

        /* Slide indicator dots */
        .carousel-dots {
            display: flex;
            justify-content: center;
            gap: 0.5rem;
            margin-top: 1.5rem;
        }

        .carousel-dot {
            width: 8px;
            height: 8px;
            border-radius: 50%;
            background: rgba(117, 53, 45, 0.2);
            cursor: pointer;
            transition: all 0.3s ease;
        }

        .carousel-dot.active {
            background: var(--rust);
            transform: scale(1.2);
        }

        /* Viz Image Thumbnails */
        .viz-image-grid {
            display: grid;
            grid-template-columns: repeat(2, 1fr);
            gap: 1rem;
            margin-bottom: 1.5rem;
        }

        .viz-thumbnail {
            position: relative;
            border-radius: 10px;
            overflow: hidden;
            cursor: zoom-in;
            background: #f8f8f8;
            box-shadow: 0 2px 12px rgba(0, 0, 0, 0.06);
            transition: transform 0.3s ease, box-shadow 0.3s ease;
        }

        .viz-thumbnail:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.1);
        }

        .viz-thumbnail img {
            width: 100%;
            height: auto;
            display: block;
        }

        .viz-thumbnail-label {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.75));
            color: white;
            padding: 2rem 0.75rem 0.6rem;
            font-size: 0.8rem;
            font-weight: 500;
        }

        .viz-thumbnail-zoom {
            position: absolute;
            top: 0.5rem;
            right: 0.5rem;
            background: rgba(255, 255, 255, 0.9);
            color: var(--dark-burgundy);
            width: 28px;
            height: 28px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 0.75rem;
            opacity: 0;
            transition: opacity 0.2s;
        }

        .viz-thumbnail:hover .viz-thumbnail-zoom {
            opacity: 1;
        }

        /* Infographics Section */
        .infographics-section {
            padding: 5rem 2rem 6rem;
            background: var(--dark-burgundy);
            position: relative;
        }

        .infographics-inner {
            max-width: 900px;
            margin: 0 auto;
        }

        .infographics-header {
            text-align: center;
            margin-bottom: 2.5rem;
        }

        .infographics-header .section-number {
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--soft-blue);
            letter-spacing: 0.15em;
            display: block;
            margin-bottom: 1rem;
        }

        .infographics-header h2 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 2.5rem;
            font-weight: 700;
            color: white;
            margin: 0 0 0.75rem 0;
        }

        .infographics-header h2::after {
            display: none;
        }

        .infographics-subtitle {
            font-size: 1rem;
            color: rgba(255, 255, 255, 0.75);
            max-width: 550px;
            margin: 0 auto;
            line-height: 1.6;
        }

        .infographics-tool-badge {
            display: inline-flex;
            align-items: center;
            gap: 0.4rem;
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.15);
            padding: 0.4rem 0.9rem;
            border-radius: 20px;
            margin-top: 1.25rem;
            color: var(--cream);
            font-size: 0.8rem;
            font-weight: 500;
        }

        .infographics-grid {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 1.25rem;
        }

        .infographic-card {
            background: rgba(255, 255, 255, 0.05);
            border: 1px solid rgba(255, 255, 255, 0.1);
            border-radius: 12px;
            overflow: hidden;
            transition: transform 0.3s ease, border-color 0.3s ease;
        }

        .infographic-card:hover {
            transform: translateY(-3px);
            border-color: rgba(255, 255, 255, 0.25);
        }

        .infographic-placeholder {
            aspect-ratio: 4/3;
            background: linear-gradient(135deg, rgba(146, 164, 210, 0.15), rgba(117, 53, 45, 0.15));
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: rgba(255, 255, 255, 0.35);
        }

        .infographic-placeholder span:first-child {
            font-size: 2.5rem;
        }

        .infographic-placeholder span:last-child {
            font-size: 0.8rem;
            margin-top: 0.5rem;
        }

        .infographic-card img {
            width: 100%;
            height: auto;
            display: block;
        }

        .infographic-label {
            padding: 0.85rem 1rem;
            color: rgba(255, 255, 255, 0.9);
            font-size: 0.85rem;
            font-weight: 500;
            background: rgba(0, 0, 0, 0.15);
        }

        /* Tips Section */
        .tips-section {
            background: var(--cream);
            padding: 5rem 2rem 6rem;
        }

        .tips-section .section-inner {
            max-width: 700px;
        }

        /* Collapsible Code Section */
        .code-section {
            margin-top: 1.5rem;
        }

        .code-toggle {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: #313244;
            padding: 0.75rem 1.25rem;
            border-radius: 10px;
            cursor: pointer;
            transition: background 0.2s;
        }

        .code-toggle:hover {
            background: #3b3d54;
        }

        .code-toggle.expanded {
            border-radius: 10px 10px 0 0;
        }

        .code-toggle-left {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            color: var(--code-text);
            font-size: 0.85rem;
            font-weight: 600;
        }

        .code-toggle-left svg {
            width: 18px;
            height: 18px;
        }

        .code-toggle-right {
            display: flex;
            align-items: center;
            gap: 0.75rem;
        }

        .code-expand-icon {
            color: var(--code-text);
            font-size: 0.8rem;
            transition: transform 0.3s;
        }

        .code-toggle.expanded .code-expand-icon {
            transform: rotate(180deg);
        }

        .code-collapsible {
            display: none;
            background: var(--code-bg);
            border-radius: 0 0 10px 10px;
        }

        .code-collapsible.show {
            display: block;
        }

        .code-header {
            display: flex;
            justify-content: flex-end;
            padding: 0.5rem 1rem;
            border-bottom: 1px solid #3b3d54;
        }

        /* Content Sections */
        .content-section {
            padding: 5rem 2rem;
        }

        .content-section.bg-cream {
            background: var(--cream);
        }

        .content-section.bg-white {
            background: white;
        }

        .section-inner {
            max-width: 900px;
            margin: 0 auto;
        }

        .section-header {
            margin-bottom: 2.5rem;
        }

        .section-number {
            font-size: 0.8rem;
            font-weight: 600;
            color: var(--soft-blue);
            letter-spacing: 0.1em;
            display: block;
            margin-bottom: 0.5rem;
        }

        .section-header h2 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 2.5rem;
            font-weight: 700;
            color: var(--dark-burgundy);
            margin: 0;
        }

        .section-header h2::after {
            display: none;
        }

        .section-intro {
            font-size: 1.15rem;
            color: #5a4a42;
            line-height: 1.75;
            max-width: 800px;
            margin-bottom: 3rem;
        }

        /* Visualisation Cards */
        .viz-card {
            background: white;
            border-radius: 12px;
            box-shadow: 0 2px 15px rgba(0, 0, 0, 0.04);
            margin-bottom: 2rem;
            overflow: hidden;
            border: 1px solid rgba(0,0,0,0.06);
        }

        .viz-card-header {
            background: linear-gradient(135deg, var(--rust), var(--dark-burgundy));
            padding: 1.25rem 1.5rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .viz-card-header h3 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.35rem;
            font-weight: 600;
            color: white;
            margin: 0;
        }

        .viz-card-tag {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            font-size: 0.7rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            padding: 0.35rem 0.75rem;
            border-radius: 20px;
        }

        .viz-card-body {
            padding: 1.5rem;
        }

        .viz-description {
            font-size: 0.95rem;
            color: #5a4a42;
            line-height: 1.6;
            margin-bottom: 1rem;
        }

        /* Visualisation Display Area */
        .viz-display {
            margin-bottom: 1.25rem;
        }

        .viz-display-title {
            font-size: 0.75rem;
            font-weight: 600;
            text-transform: uppercase;
            letter-spacing: 0.05em;
            color: #999;
            margin-bottom: 0.75rem;
        }

        .chart-container {
            position: relative;
            height: 280px;
        }

        .code-block {
            padding: 1.5rem;
            overflow-x: auto;
            max-height: 400px;
            overflow-y: auto;
        }

        .code-block pre {
            margin: 0;
            font-family: 'Fira Code', monospace;
            font-size: 0.8rem;
            line-height: 1.6;
            color: var(--code-text);
        }

        .code-block .comment { color: var(--code-comment); }
        .code-block .string { color: var(--code-string); }
        .code-block .keyword { color: var(--code-keyword); }
        .code-block .function { color: var(--code-function); }
        .code-block .number { color: #fab387; }

        /* LLM Tip Box */
        .llm-tip-box {
            background: linear-gradient(135deg, rgba(146, 164, 210, 0.15), rgba(146, 164, 210, 0.05));
            border: 2px solid var(--soft-blue);
            border-radius: 16px;
            padding: 2.5rem;
        }

        .llm-tip-header {
            display: flex;
            align-items: center;
            gap: 0.75rem;
            margin-bottom: 1.5rem;
        }

        .llm-tip-icon {
            font-size: 2rem;
        }

        .llm-tip-header h3 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.75rem;
            font-weight: 600;
            color: var(--dark-burgundy);
            margin: 0;
        }

        .llm-tip-box p {
            font-size: 1.05rem;
            color: #5a4a42;
            line-height: 1.7;
            margin: 0 0 1rem 0;
        }

        .llm-tip-box ol {
            margin: 1.5rem 0;
            padding-left: 1.5rem;
        }

        .llm-tip-box li {
            font-size: 1rem;
            color: #5a4a42;
            line-height: 1.6;
            margin-bottom: 0.75rem;
        }

        .llm-warning {
            background: rgba(117, 53, 45, 0.1);
            border-left: 4px solid var(--rust);
            padding: 1.25rem 1.5rem;
            border-radius: 0 8px 8px 0;
            margin-top: 1.5rem;
        }

        .llm-warning h4 {
            font-size: 1rem;
            font-weight: 600;
            color: var(--rust);
            margin: 0 0 0.5rem 0;
        }

        .llm-warning p {
            font-size: 0.95rem;
            margin: 0;
        }

        /* Responsive */
        @media (max-width: 1000px) {
            .hero-split {
                grid-template-columns: 1fr;
                gap: 2.5rem;
                text-align: center;
            }

            .hero-content {
                text-align: center;
                order: 1;
            }

            .hero-image-container {
                order: 2;
                max-width: 500px;
                margin: 0 auto;
            }

            .viz-hero {
                padding: 5rem 2rem 4rem;
            }

            .viz-hero h1 {
                font-size: 3rem;
            }

            .roll-section {
                border-radius: 30px 30px 0 0;
            }
        }

        @media (max-width: 768px) {
            .viz-hero h1 {
                font-size: 2.5rem;
            }

            .viz-hero-subtitle {
                font-size: 1.1rem;
            }

            .code-block {
                padding: 1rem;
            }

            .code-block pre {
                font-size: 0.7rem;
            }

            .philosophy-grid {
                grid-template-columns: 1fr;
            }

            .infographics-grid {
                grid-template-columns: 1fr;
            }

            .philosophy-header h2,
            .infographics-header h2 {
                font-size: 2rem;
            }
        }

        @media (max-width: 600px) {
            .viz-hero {
                padding: 5rem 1.5rem 3rem;
            }

            .viz-hero h1 {
                font-size: 2rem;
            }

            .gallery-section,
            .tips-section,
            .philosophy-section,
            .infographics-section {
                padding: 3.5rem 1.25rem;
            }

            .viz-card-header {
                flex-direction: column;
                align-items: flex-start;
                gap: 0.5rem;
            }

            .section-header h2 {
                font-size: 1.75rem;
            }

            .viz-image-grid {
                grid-template-columns: 1fr;
            }

            .roll-section {
                border-radius: 20px 20px 0 0;
                margin-top: -20px;
            }

            .gallery-nav {
                flex-direction: column;
                gap: 1rem;
                align-items: stretch;
            }

            .gallery-tabs {
                flex-wrap: wrap;
                justify-content: center;
            }

            .gallery-tab {
                padding: 0.5rem 0.9rem;
                font-size: 0.8rem;
            }

            .gallery-arrows {
                justify-content: center;
            }
        }
    </style>
</head>
<body>
    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <a href="index.html" class="nav-brand">Brooklyn Corbett</a>
            <div class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <ul class="nav-links" id="navLinks">
                <li><a href="index.html">Home</a></li>
                <li><a href="about.html">About</a></li>
                <li><a href="research/index.html">Research Projects</a></li>
                <li><a href="ai-education/index.html">AI in Education</a></li>
                <li><a href="data-viz.html" class="active">Data Visualisation</a></li>
                <li><a href="rigour.html">Open Science</a></li>
            </ul>
        </div>
    </nav>

    <main>
        <!-- Lightbox Overlay -->
        <div class="lightbox-overlay" id="lightbox">
            <span class="lightbox-close" onclick="closeLightbox()">&times;</span>
            <img src="" alt="Enlarged visualisation" class="lightbox-content" id="lightboxImg">
        </div>

        <!-- Hero Section -->
        <section class="viz-hero">
            <div class="hero-split">
                <div class="hero-image-container">
                    <img src="assets/images/data_viz_image.JPG" alt="Data visualisation examples from research" loading="lazy">
                </div>
                <div class="hero-content">
                    <h1>Data Visualisation</h1>
                    <p class="viz-hero-subtitle">
                        Beautiful, transparent visualisations with reproducible R code. 
                        Every figure tells a story‚Äîthese are the ones I use in my research.
                    </p>
                </div>
            </div>
            
            <div class="scroll-indicator">
                <span>Scroll to explore</span>
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M12 5v14M5 12l7 7 7-7"/>
                </svg>
            </div>
        </section>

        <!-- Philosophy Section -->
        <section class="philosophy-section roll-section">
            <div class="philosophy-inner">
                <div class="philosophy-header">
                    <span class="section-number">01 ‚Äî APPROACH</span>
                    <h2>Visualisation Philosophy</h2>
                    <p class="philosophy-tagline">Show the data, not just the summary</p>
                    <p class="philosophy-intro">Transparent, reproducible figures with R code you can adapt.</p>
                </div>
                
                <div class="philosophy-grid">
                    <div class="philosophy-card">
                        <div class="philosophy-icon">üìä</div>
                        <div class="philosophy-card-content">
                            <h3>Individual Points</h3>
                            <p>Show every participant, not just averages. Each dot is a person.</p>
                        </div>
                    </div>
                    <div class="philosophy-card">
                        <div class="philosophy-icon">üìà</div>
                        <div class="philosophy-card-content">
                            <h3>Distributions</h3>
                            <p>Use density plots to reveal the shape behind summary statistics.</p>
                        </div>
                    </div>
                    <div class="philosophy-card">
                        <div class="philosophy-icon">üìâ</div>
                        <div class="philosophy-card-content">
                            <h3>Uncertainty</h3>
                            <p>Always include error bars or confidence intervals.</p>
                        </div>
                    </div>
                    <div class="philosophy-card">
                        <div class="philosophy-icon">üîó</div>
                        <div class="philosophy-card-content">
                            <h3>Paired Data</h3>
                            <p>Connect matched observations to reveal hidden patterns.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Visualisation Gallery -->
        <section class="gallery-section roll-section" id="gallery">
            <div class="section-inner">
                <div class="section-header">
                    <span class="section-number">02 ‚Äî GALLERY</span>
                    <h2>Visualisation Types</h2>
                </div>

                <!-- Gallery Navigation -->
                <div class="gallery-nav">
                    <div class="gallery-tabs">
                        <button class="gallery-tab active" onclick="goToSlide(0)">Raincloud</button>
                        <button class="gallery-tab" onclick="goToSlide(1)">Correlation</button>
                        <button class="gallery-tab" onclick="goToSlide(2)">Longitudinal</button>
                    </div>
                    <div class="gallery-arrows">
                        <button class="gallery-arrow" onclick="prevSlide()" id="prevBtn">‚Üê</button>
                        <button class="gallery-arrow" onclick="nextSlide()" id="nextBtn">‚Üí</button>
                    </div>
                </div>

                <!-- Carousel -->
                <div class="carousel-container">
                    <div class="carousel-track" id="carouselTrack">
                        
                        <!-- Slide 1: Raincloud Plot -->
                        <div class="carousel-slide active">
                            <div class="viz-card">
                                <div class="viz-card-header">
                                    <h3>Raincloud Plot with Paired Data</h3>
                                    <span class="viz-card-tag">Group Comparisons</span>
                                </div>
                                <div class="viz-card-body">
                                    <p class="viz-description">
                                        Compare two groups while showing distributions, individual points, and paired connections. Ideal for expert vs novice or pre vs post comparisons.
                                    </p>

                                    <div class="viz-display">
                                        <div class="viz-display-title">From my research</div>
                                        <div class="viz-image-grid">
                                            <div class="viz-thumbnail" onclick="openLightbox('assets/figures/raincloud_1.jpeg')">
                                                <img src="assets/figures/raincloud_1.jpeg" alt="Raincloud plot showing memory for distinctive fingerprints">
                                                <span class="viz-thumbnail-zoom">üîç</span>
                                                <span class="viz-thumbnail-label">Memory for Distinctive Prints</span>
                                            </div>
                                            <div class="viz-thumbnail" onclick="openLightbox('assets/figures/raincloud_2.jpeg')">
                                                <img src="assets/figures/raincloud_2.jpeg" alt="Raincloud plot from think-aloud verbal protocol study">
                                                <span class="viz-thumbnail-zoom">üîç</span>
                                                <span class="viz-thumbnail-label">Think-Aloud Protocol Study</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="code-section">
                                        <div class="code-toggle" onclick="toggleCode(this)">
                                            <span class="code-toggle-left">
                                                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>
                                                View R Code
                                            </span>
                                            <span class="code-expand-icon">‚ñº</span>
                                        </div>
                                        <div class="code-collapsible">
                                            <div class="code-header">
                                                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                                            </div>
                                            <div class="code-block">
<pre><span class="comment"># ============================================================</span>
<span class="comment"># RAINCLOUD PLOT WITH PAIRED DATA</span>
<span class="comment"># Shows distribution + individual points + paired connections</span>
<span class="comment"># ============================================================</span>

<span class="keyword">library</span>(ggplot2)
<span class="keyword">library</span>(ggdist)      <span class="comment"># For half-violin (stat_halfeye)</span>
<span class="keyword">library</span>(dplyr)

<span class="comment"># COLOUR PALETTE - CUSTOMISE YOUR COLOURS</span>
colours <- <span class="function">c</span>(
  <span class="string">"Expert"</span> = <span class="string">"#7B5EA7"</span>,   <span class="comment"># Purple</span>
  <span class="string">"Novice"</span> = <span class="string">"#E9B44C"</span>    <span class="comment"># Gold</span>
)

<span class="comment"># CREATE THE PLOT</span>
p <- <span class="function">ggplot</span>(data, <span class="function">aes</span>(x = group, y = score, fill = group, colour = group)) +
  <span class="function">stat_halfeye</span>(adjust = <span class="number">0.5</span>, width = <span class="number">0.6</span>, justification = <span class="number">-0.2</span>,
    .width = <span class="number">0</span>, point_colour = <span class="function">NA</span>, alpha = <span class="number">0.7</span>) +
  <span class="function">geom_boxplot</span>(width = <span class="number">0.15</span>, outlier.shape = <span class="function">NA</span>, alpha = <span class="number">0.5</span>) +
  <span class="function">geom_point</span>(<span class="function">aes</span>(x = <span class="function">as.numeric</span>(<span class="function">factor</span>(group)) - <span class="number">0.25</span>),
    position = <span class="function">position_jitter</span>(width = <span class="number">0.05</span>, seed = <span class="number">123</span>),
    size = <span class="number">2</span>, alpha = <span class="number">0.6</span>) +
  <span class="function">geom_line</span>(<span class="function">aes</span>(group = pair_id), alpha = <span class="number">0.3</span>, colour = <span class="string">"grey40"</span>) +
  <span class="function">scale_fill_manual</span>(values = colours) +
  <span class="function">scale_colour_manual</span>(values = colours) +
  <span class="function">labs</span>(x = <span class="function">NULL</span>, y = <span class="string">"Proportion Correct"</span>) +
  <span class="function">theme_minimal</span>(base_size = <span class="number">14</span>) +
  <span class="function">theme</span>(legend.position = <span class="string">"none"</span>)

<span class="function">ggsave</span>(<span class="string">"raincloud.png"</span>, p, width = <span class="number">8</span>, height = <span class="number">6</span>, dpi = <span class="number">300</span>)</pre>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Slide 2: Correlation Matrix -->
                        <div class="carousel-slide">
                            <div class="viz-card">
                                <div class="viz-card-header">
                                    <h3>Correlation Matrix</h3>
                                    <span class="viz-card-tag">Exploratory Analysis</span>
                                </div>
                                <div class="viz-card-body">
                                    <p class="viz-description">
                                        Explore relationships among multiple variables at once. Circle size shows correlation strength; colour shows direction. Perfect for exploratory analysis before regression.
                                    </p>

                                    <div class="viz-display">
                                        <div class="viz-display-title">From my research</div>
                                        <div class="viz-image-grid" style="grid-template-columns: 1fr; max-width: 500px; margin: 0 auto;">
                                            <div class="viz-thumbnail" onclick="openLightbox('assets/figures/correlation_jpg.png')">
                                                <img src="assets/figures/correlation_jpg.png" alt="Correlation matrix showing relationships between cognitive and personality measures">
                                                <span class="viz-thumbnail-zoom">üîç</span>
                                                <span class="viz-thumbnail-label">Cognitive & Personality Measures</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="code-section">
                                        <div class="code-toggle" onclick="toggleCode(this)">
                                            <span class="code-toggle-left">
                                                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>
                                                View R Code
                                            </span>
                                            <span class="code-expand-icon">‚ñº</span>
                                        </div>
                                        <div class="code-collapsible">
                                            <div class="code-header">
                                                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                                            </div>
                                            <div class="code-block">
<pre><span class="comment"># ============================================================</span>
<span class="comment"># CORRELATION MATRIX VISUALISATION</span>
<span class="comment"># Circle size = correlation strength, colour = direction</span>
<span class="comment"># ============================================================</span>

<span class="keyword">library</span>(corrplot)
<span class="keyword">library</span>(Hmisc)       <span class="comment"># For rcorr() with p-values</span>

<span class="comment"># Select numeric columns to correlate</span>
data_numeric <- data <span class="function">%>%</span> 
  <span class="function">select</span>(visual_search, spatial_memory, ravens, risk, xq_score)

<span class="comment"># Calculate correlations with p-values</span>
cor_results <- <span class="function">rcorr</span>(<span class="function">as.matrix</span>(data_numeric))
cor_matrix <- cor_results$r
p_matrix <- cor_results$P

<span class="comment"># COLOUR PALETTE: green = positive, blue = negative</span>
colours <- <span class="function">colorRampPalette</span>(<span class="function">c</span>(
  <span class="string">"#2166AC"</span>, <span class="string">"#F7F7F7"</span>, <span class="string">"#1B7837"</span>
))(<span class="number">200</span>)

<span class="comment"># Create the plot</span>
<span class="function">corrplot</span>(cor_matrix,
  method = <span class="string">"circle"</span>,
  type = <span class="string">"upper"</span>,
  order = <span class="string">"hclust"</span>,
  col = colours,
  p.mat = p_matrix,
  sig.level = <span class="function">c</span>(<span class="number">0.001</span>, <span class="number">0.01</span>, <span class="number">0.05</span>),
  insig = <span class="string">"label_sig"</span>,
  tl.col = <span class="string">"grey20"</span>,
  tl.srt = <span class="number">45</span>,
  diag = <span class="function">FALSE</span>
)</pre>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Slide 3: Longitudinal Line Chart -->
                        <div class="carousel-slide">
                            <div class="viz-card">
                                <div class="viz-card-header">
                                    <h3>Longitudinal Line Chart</h3>
                                    <span class="viz-card-tag">Time Series</span>
                                </div>
                                <div class="viz-card-body">
                                    <p class="viz-description">
                                        Track change over time across experimental conditions. Use for pre/post/follow-up designs with error bars showing uncertainty at each time point.
                                    </p>

                                    <div class="viz-display">
                                        <div class="viz-display-title">From my research</div>
                                        <div class="viz-image-grid">
                                            <div class="viz-thumbnail" onclick="openLightbox('assets/figures/longitudinal_1.png')">
                                                <img src="assets/figures/longitudinal_1.png" alt="Longitudinal belief change across conditions">
                                                <span class="viz-thumbnail-zoom">üîç</span>
                                                <span class="viz-thumbnail-label">Belief Change Over Time</span>
                                            </div>
                                            <div class="viz-thumbnail" onclick="openLightbox('assets/figures/longitudinal_2.png')">
                                                <img src="assets/figures/longitudinal_2.png" alt="Faceted longitudinal plot by condition">
                                                <span class="viz-thumbnail-zoom">üîç</span>
                                                <span class="viz-thumbnail-label">By Condition (Faceted)</span>
                                            </div>
                                        </div>
                                    </div>

                                    <div class="code-section">
                                        <div class="code-toggle" onclick="toggleCode(this)">
                                            <span class="code-toggle-left">
                                                <svg viewBox="0 0 24 24" fill="currentColor"><path d="M12 2L2 7l10 5 10-5-10-5zM2 17l10 5 10-5M2 12l10 5 10-5"/></svg>
                                                View R Code
                                            </span>
                                            <span class="code-expand-icon">‚ñº</span>
                                        </div>
                                        <div class="code-collapsible">
                                            <div class="code-header">
                                                <button class="copy-btn" onclick="copyCode(this)">Copy</button>
                                            </div>
                                            <div class="code-block">
<pre><span class="comment"># ============================================================</span>
<span class="comment"># LONGITUDINAL LINE CHART</span>
<span class="comment"># Tracks change over time with confidence bands</span>
<span class="comment"># ============================================================</span>

<span class="keyword">library</span>(ggplot2)
<span class="keyword">library</span>(dplyr)

<span class="comment"># Data should have: time, condition, mean, se (standard error)</span>
<span class="comment"># Set factor levels for proper time ordering</span>
summary_data$time <- <span class="function">factor</span>(summary_data$time,
  levels = <span class="function">c</span>(<span class="string">"Pre"</span>, <span class="string">"Post"</span>, <span class="string">"10 Days"</span>, <span class="string">"2 Months"</span>))

<span class="comment"># Colours - CHANGE FOR YOUR CONDITIONS</span>
colours <- <span class="function">c</span>(
  <span class="string">"AI Dialogue"</span> = <span class="string">"#75352D"</span>,
  <span class="string">"Textbook"</span> = <span class="string">"#92A4D2"</span>,
  <span class="string">"Control"</span> = <span class="string">"#A0AEC0"</span>
)

<span class="comment"># Create the plot</span>
p <- <span class="function">ggplot</span>(summary_data, <span class="function">aes</span>(x = time, y = mean, 
                               colour = condition, group = condition)) +
  <span class="function">geom_ribbon</span>(<span class="function">aes</span>(ymin = mean - se, ymax = mean + se, fill = condition),
              alpha = <span class="number">0.15</span>, colour = <span class="function">NA</span>) +
  <span class="function">geom_line</span>(linewidth = <span class="number">1.5</span>) +
  <span class="function">geom_point</span>(size = <span class="number">4</span>, shape = <span class="number">21</span>, fill = <span class="string">"white"</span>, stroke = <span class="number">2</span>) +
  <span class="function">geom_errorbar</span>(<span class="function">aes</span>(ymin = mean - se, ymax = mean + se), width = <span class="number">0.1</span>) +
  <span class="function">scale_colour_manual</span>(values = colours) +
  <span class="function">scale_fill_manual</span>(values = colours) +
  <span class="function">scale_y_continuous</span>(limits = <span class="function">c</span>(<span class="number">0</span>, <span class="number">100</span>)) +
  <span class="function">labs</span>(x = <span class="function">NULL</span>, y = <span class="string">"Belief in Myth (0-100)"</span>) +
  <span class="function">theme_minimal</span>(base_size = <span class="number">14</span>) +
  <span class="function">theme</span>(legend.position = <span class="string">"top"</span>, legend.title = <span class="function">element_blank</span>())

<span class="function">ggsave</span>(<span class="string">"longitudinal.png"</span>, p, width = <span class="number">10</span>, height = <span class="number">6</span>, dpi = <span class="number">300</span>)</pre>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>

                <!-- Carousel Dots -->
                <div class="carousel-dots">
                    <span class="carousel-dot active" onclick="goToSlide(0)"></span>
                    <span class="carousel-dot" onclick="goToSlide(1)"></span>
                    <span class="carousel-dot" onclick="goToSlide(2)"></span>
                </div>

            </div>
        </section>

        <!-- Infographics Section -->
        <section class="infographics-section roll-section">
            <div class="infographics-inner">
                <div class="infographics-header">
                    <span class="section-number">03 ‚Äî VISUAL COMMUNICATION</span>
                    <h2>Research Infographics</h2>
                    <p class="infographics-subtitle">
                        Transforming complex research findings into clear, engaging visual summaries 
                        for broader audiences and stakeholder communication.
                    </p>
                    <div class="infographics-tool-badge">
                        <span>‚ú®</span>
                        Created with Napkin.ai
                    </div>
                </div>

                <div class="infographics-grid">
                    <div class="infographic-card">
                        <div class="infographic-placeholder">
                            <span>üìã</span>
                            <span>Coming Soon</span>
                        </div>
                        <div class="infographic-label">Research Summary Infographic</div>
                    </div>
                    <div class="infographic-card">
                        <div class="infographic-placeholder">
                            <span>üéØ</span>
                            <span>Coming Soon</span>
                        </div>
                        <div class="infographic-label">Key Findings Visual</div>
                    </div>
                    <div class="infographic-card">
                        <div class="infographic-placeholder">
                            <span>üí°</span>
                            <span>Coming Soon</span>
                        </div>
                        <div class="infographic-label">Practical Implications</div>
                    </div>
                </div>
            </div>
        </section>

        <!-- Not Comfortable with R Section -->
        <section class="tips-section roll-section">
            <div class="section-inner">
                <div class="section-header">
                    <span class="section-number">04 ‚Äî ALTERNATIVE APPROACH</span>
                    <h2>Not Comfortable with R?</h2>
                </div>

                <div class="llm-tip-box">
                    <div class="llm-tip-header">
                        <span class="llm-tip-icon">üí°</span>
                        <h3>Use an LLM to Help</h3>
                    </div>
                    <p>
                        If you like these visualisation styles but aren't ready to dive into R code, you can 
                        use a large language model (like ChatGPT or Claude) to help create them with your data.
                    </p>
                    
                    <ol>
                        <li><strong>Screenshot the visualisation</strong> you want to recreate from this page</li>
                        <li><strong>Prepare your de-identified data</strong> as a CSV file</li>
                        <li><strong>Upload both to an LLM</strong> and ask it to write R code to create that visualisation with your data</li>
                    </ol>

                    <p>
                        <strong>Example prompt:</strong> <em>"I want to create a raincloud plot that looks like this 
                        [screenshot]. My data has two groups (treatment and control) comparing test scores. 
                        Can you write R code to create this visualisation with my data? Please include comments 
                        explaining what each part does."</em>
                    </p>

                    <p>
                        The LLM can also help you troubleshoot errors, adjust colours, modify labels, and 
                        adapt the code to your specific data structure.
                    </p>

                    <div class="llm-warning">
                        <h4>‚ö†Ô∏è Ethics Reminder</h4>
                        <p>
                            <strong>Only upload de-identified data.</strong> Never share private, confidential, 
                            or identifiable information with LLMs. If your data contains names, IDs, dates of birth, 
                            or any other potentially identifying information, remove or anonymise it first. 
                            Check with your ethics committee if you're unsure about what constitutes identifiable information.
                        </p>
                    </div>
                </div>
            </div>
        </section>

    </main>

    <!-- Footer -->
    <footer>
        <p>&copy;2025 Brooklyn Corbett</p>
    </footer>

    <!-- Scripts -->
    <script>
        // Mobile nav
        document.getElementById('hamburger').addEventListener('click', function() {
            document.getElementById('navLinks').classList.toggle('active');
            this.classList.toggle('active');
        });

        // Lightbox functions
        function openLightbox(src) {
            const lightbox = document.getElementById('lightbox');
            const lightboxImg = document.getElementById('lightboxImg');
            lightboxImg.src = src;
            lightbox.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeLightbox() {
            const lightbox = document.getElementById('lightbox');
            lightbox.classList.remove('active');
            document.body.style.overflow = '';
        }

        // Close lightbox on overlay click
        document.getElementById('lightbox').addEventListener('click', function(e) {
            if (e.target === this) {
                closeLightbox();
            }
        });

        // Close lightbox on Escape key
        document.addEventListener('keydown', function(e) {
            if (e.key === 'Escape') {
                closeLightbox();
            }
        });

        // Copy code functionality
        function copyCode(button) {
            const codeBlock = button.closest('.code-section').querySelector('pre');
            const text = codeBlock.textContent;
            
            navigator.clipboard.writeText(text).then(() => {
                button.textContent = 'Copied!';
                button.classList.add('copied');
                setTimeout(() => {
                    button.textContent = 'Copy';
                    button.classList.remove('copied');
                }, 2000);
            });
        }

        // Toggle code visibility
        function toggleCode(toggle) {
            toggle.classList.toggle('expanded');
            const collapsible = toggle.nextElementSibling;
            collapsible.classList.toggle('show');
        }

        // Carousel functionality
        let currentSlide = 0;
        const totalSlides = 3;

        function updateCarousel() {
            const track = document.getElementById('carouselTrack');
            const slides = document.querySelectorAll('.carousel-slide');
            const tabs = document.querySelectorAll('.gallery-tab');
            const dots = document.querySelectorAll('.carousel-dot');

            // Move track
            track.style.transform = `translateX(-${currentSlide * 100}%)`;

            // Update slide visibility
            slides.forEach((slide, index) => {
                slide.classList.toggle('active', index === currentSlide);
            });

            // Update tabs
            tabs.forEach((tab, index) => {
                tab.classList.toggle('active', index === currentSlide);
            });

            // Update dots
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === currentSlide);
            });

            // Update arrow states
            document.getElementById('prevBtn').disabled = currentSlide === 0;
            document.getElementById('nextBtn').disabled = currentSlide === totalSlides - 1;
        }

        function goToSlide(index) {
            currentSlide = index;
            updateCarousel();
        }

        function nextSlide() {
            if (currentSlide < totalSlides - 1) {
                currentSlide++;
                updateCarousel();
            }
        }

        function prevSlide() {
            if (currentSlide > 0) {
                currentSlide--;
                updateCarousel();
            }
        }

        // Initialize carousel on load
        document.addEventListener('DOMContentLoaded', function() {
            updateCarousel();
        });
    </script>
</body>
</html>