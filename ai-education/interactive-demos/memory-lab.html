<!DOCTYPE html>
<html lang="en-GB">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Memory Lab: Interactive Experiments | Brooklyn Corbett</title>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Inter:wght@400;500;600&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --cream: #F1DDC4;
            --rust: #75352D;
            --dark-burgundy: #3A1213;
            --soft-blue: #92A4D2;
            --sage: #7fa8a8;
        }

        * { margin: 0; padding: 0; box-sizing: border-box; }

        body {
            font-family: 'Inter', sans-serif;
            line-height: 1.6;
            color: #2c2c2c;
            background-color: var(--cream);
            min-height: 100vh;
        }

        /* === NAVIGATION === */
        nav {
            position: fixed;
            top: 0;
            left: 0;
            right: 0;
            background-color: var(--dark-burgundy);
            color: white;
            padding: 1rem 3rem;
            z-index: 1000;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }

        .nav-container {
            max-width: 1200px;
            margin: 0 auto;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .nav-brand {
            font-family: 'Cormorant Garamond', Georgia, serif;
            font-size: 1.4rem;
            font-weight: 600;
            color: white;
            text-decoration: none;
        }

        .nav-links {
            display: flex;
            list-style: none;
            gap: 2.2rem;
        }

        .nav-links a {
            color: rgba(255, 255, 255, 0.85);
            text-decoration: none;
            font-weight: 400;
            font-size: 0.9rem;
            transition: color 0.3s ease;
        }

        .nav-links a:hover,
        .nav-links a.active {
            color: white;
        }

        .hamburger {
            display: none;
            flex-direction: column;
            cursor: pointer;
            gap: 4px;
        }

        .hamburger span {
            width: 25px;
            height: 3px;
            background-color: white;
            transition: 0.3s;
        }

        /* === HERO SECTION === */
  .hero-section {
    background: linear-gradient(135deg, var(--dark-burgundy) 0%, #4a1a1b 100%);
    color: white;
    padding: 6rem 2rem 3rem;
    text-align: center;
    margin-bottom: 0;
}

        .hero-section h1 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 3.5rem;
            font-weight: 700;
            margin-bottom: 0.5rem;
            color: white;
        }

        .hero-subtitle {
            font-size: 1.3rem;
            color: rgba(255, 255, 255, 0.9);
            font-weight: 400;
            margin-bottom: 1.5rem;
        }

        .hero-description {
            max-width: 700px;
            margin: 0 auto;
            font-size: 1.05rem;
            line-height: 1.8;
            color: rgba(255, 255, 255, 0.85);
        }
.hero-back-btn {
    display: inline-block;
    color: white;
    text-decoration: none;
    font-weight: 600;
    font-size: 0.9rem;
    padding: 0.5rem 1rem;
    margin-top: 1.5rem;
    border: 2px solid rgba(255, 255, 255, 0.5);
    border-radius: 8px;
    transition: all 0.2s ease;
}

.hero-back-btn:hover {
    border-color: white;
    background: rgba(255, 255, 255, 0.1);
}

.footer-back-btn {
    display: inline-block;
    color: white;
    text-decoration: none;
    font-weight: 600;
    font-size: 0.9rem;
    padding: 0.6rem 1.2rem;
    border: 2px solid rgba(255, 255, 255, 0.5);
    border-radius: 8px;
    transition: all 0.2s ease;
}

.footer-back-btn:hover {
    border-color: white;
    background: rgba(255, 255, 255, 0.1);
}

        /* === MAIN CONTENT === */
        .main-content {
            max-width: 1100px;
            margin: 0 auto;
            padding: 3rem 2rem;
        }

        /* === EXPERIMENT NAVIGATION === */
        .experiment-nav-section {
            margin-bottom: 2.5rem;
        }

        .experiment-nav-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.5rem;
            color: var(--dark-burgundy);
            margin-bottom: 1rem;
            text-align: center;
        }

        .experiment-nav {
            display: grid;
            grid-template-columns: repeat(5, 1fr);
            gap: 1rem;
        }

        .nav-card {
            background: #f3e2ce;
            border-radius: 12px;
            padding: 1.25rem 1rem;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.08);
        }

        .nav-card:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.12);
        }

        .nav-card.active {
            background: white;
            box-shadow: 0 8px 25px rgba(146, 164, 210, 0.25);
            border: 2px solid var(--soft-blue);
        }

        .nav-card .card-number {
            display: inline-block;
            width: 28px;
            height: 28px;
            background: var(--soft-blue);
            color: white;
            border-radius: 50%;
            font-size: 0.85rem;
            font-weight: 700;
            line-height: 28px;
            margin-bottom: 8px;
        }

        .nav-card.active .card-number { 
            background: var(--rust); 
        }

        .nav-card h3 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1rem;
            color: var(--dark-burgundy);
            margin: 0;
            line-height: 1.3;
        }

        /* === EXPERIMENT CONTENT === */
      .experiment-area {
    display: none;
    animation: fadeIn 0.4s ease;
    scroll-margin-top: 100px;
}

.experiment-area.active { 
    display: block; 
}

        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }

        .experiment-card {
            background: white;
            border-radius: 20px;
            padding: 2.5rem;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.08);
            margin-bottom: 2rem;
        }

        .experiment-title {
            font-family: 'Cormorant Garamond', serif;
            font-size: 2rem;
            color: var(--dark-burgundy);
            margin-bottom: 1rem;
            text-align: center;
        }

        .experiment-instructions {
            background: rgba(146, 164, 210, 0.1);
            border-left: 4px solid var(--soft-blue);
            padding: 1.25rem 1.5rem;
            border-radius: 8px;
            margin-bottom: 2rem;
            font-size: 1rem;
            line-height: 1.7;
        }

        .display-area {
            background: linear-gradient(135deg, var(--dark-burgundy) 0%, #4a1a1b 100%);
            border-radius: 16px;
            padding: 60px 40px;
            text-align: center;
            margin-bottom: 1.5rem;
            min-height: 180px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .word-display {
            font-family: 'Cormorant Garamond', serif;
            font-size: 3.5rem;
            color: white;
            font-weight: 600;
            letter-spacing: 2px;
            text-shadow: 0 2px 10px rgba(0, 0, 0, 0.3);
        }

        .btn {
            background: linear-gradient(135deg, var(--rust) 0%, var(--dark-burgundy) 100%);
            color: white;
            border: none;
            padding: 14px 32px;
            border-radius: 8px;
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(117, 53, 45, 0.25);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(117, 53, 45, 0.35);
        }

        .btn:disabled { 
            opacity: 0.5; 
            cursor: not-allowed; 
            transform: none; 
        }

        .btn.secondary {
            background: white;
            color: var(--rust);
            border: 2px solid var(--rust);
            box-shadow: none;
        }

        .btn.secondary:hover { 
            background: var(--cream); 
        }

        .button-group {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
            margin: 1.5rem 0;
        }

        .input-area {
            background: #fafafa;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .word-input {
            width: 100%;
            padding: 15px 20px;
            font-size: 1.1rem;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            font-family: 'Inter', sans-serif;
            transition: border-color 0.3s ease;
        }

        .word-input:focus {
            outline: none;
            border-color: var(--soft-blue);
            box-shadow: 0 0 0 3px rgba(146, 164, 210, 0.2);
        }

        .recalled-words {
            margin-top: 1rem;
            padding: 1rem;
            background: white;
            border-radius: 8px;
            border: 1px solid #e8e8e8;
            min-height: 50px;
        }

        .recalled-words span { 
            color: var(--rust); 
            font-weight: 500; 
        }

        .results-section { 
            display: none; 
            animation: fadeIn 0.5s ease; 
        }
        
        .results-section.active { 
            display: block; 
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(140px, 1fr));
            gap: 1rem;
            margin: 1.5rem 0;
        }

        .stat-card {
            background: linear-gradient(135deg, #fafafa 0%, white 100%);
            border: 2px solid #e8e8e8;
            border-radius: 12px;
            padding: 1.5rem 1rem;
            text-align: center;
        }

        .stat-label {
            font-size: 0.8rem;
            color: var(--rust);
            text-transform: uppercase;
            letter-spacing: 0.5px;
            margin-bottom: 0.5rem;
            font-weight: 600;
        }

        .stat-value {
            font-family: 'Cormorant Garamond', serif;
            font-size: 2.2rem;
            color: var(--dark-burgundy);
            font-weight: 700;
        }

        .chart-container {
            background: white;
            border-radius: 12px;
            padding: 1.5rem;
            margin: 1.5rem 0;
            border: 1px solid #e8e8e8;
        }

        .chart-container canvas { 
            max-height: 300px; 
        }

        .explanation {
            background: rgba(146, 164, 210, 0.08);
            border-left: 4px solid var(--soft-blue);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .explanation h4 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.3rem;
            color: var(--dark-burgundy);
            margin-bottom: 0.75rem;
        }

        .explanation p { 
            color: #444; 
            line-height: 1.7; 
            margin-bottom: 0.5rem; 
        }
        
        .explanation p:last-child { 
            margin-bottom: 0; 
        }

        .teaching-application {
            background: linear-gradient(135deg, rgba(117, 53, 45, 0.08) 0%, rgba(117, 53, 45, 0.04) 100%);
            border-left: 4px solid var(--rust);
            border-radius: 8px;
            padding: 1.5rem;
            margin: 1.5rem 0;
        }

        .teaching-application h4 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 1.3rem;
            color: var(--dark-burgundy);
            margin-bottom: 0.75rem;
        }

        .teaching-application p { 
            color: #444; 
            line-height: 1.7; 
        }

        /* Working Memory Grid */
        .memory-grid-container { 
            display: flex; 
            justify-content: center; 
            margin: 1.5rem 0; 
        }

        .memory-grid {
            display: grid;
            grid-template-columns: repeat(4, 1fr);
            gap: 10px;
            max-width: 350px;
            width: 100%;
        }

        .grid-cell {
            aspect-ratio: 1;
            background: #e8e8e8;
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.2s ease;
        }

        .grid-cell.highlighted { 
            background: var(--soft-blue); 
        }
        
        .grid-cell.selected { 
            background: var(--rust); 
        }
        
        .grid-cell.correct { 
            background: var(--sage); 
        }
        
        .grid-cell.incorrect { 
            background: #e57373; 
        }

        /* Recognition Grid */
        .recognition-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(120px, 1fr));
            gap: 10px;
            margin: 1.5rem 0;
        }

        .recognition-word {
            background: white;
            border: 2px solid #e0e0e0;
            border-radius: 8px;
            padding: 12px;
            text-align: center;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s ease;
        }

        .recognition-word:hover { 
            border-color: var(--soft-blue); 
        }
        
        .recognition-word.selected {
            background: var(--soft-blue);
            color: white;
            border-color: var(--soft-blue);
        }

        /* === EMBED SECTION WITH PARALLAX === */
.embed-section-wrapper {
    background: linear-gradient(135deg, var(--soft-blue), #b8c4e8);
    margin-top: 3rem;
    margin-left: calc(50% - 50vw);
    margin-right: calc(50% - 50vw);
    border-radius: 60px 60px 0 0;
    padding: 4rem 2rem 12rem;
    overflow: visible;
}

        .embed-section {
            background: rgba(255, 255, 255, 0.95);
            border-radius: 24px;
            padding: 2.5rem 3rem;
            max-width: 900px;
            margin: 0 auto;
            box-shadow: 0 12px 35px rgba(0, 0, 0, 0.08);
            transition: transform 0.1s ease-out;
        }

        .embed-section h3 {
            font-family: 'Cormorant Garamond', serif;
            font-size: 2rem;
            color: var(--dark-burgundy);
            margin-bottom: 1rem;
            text-align: center;
        }

        .embed-section > p {
            text-align: center;
            margin-bottom: 2rem;
            color: #555;
            max-width: 650px;
            margin-left: auto;
            margin-right: auto;
            line-height: 1.7;
        }

        .embed-buttons {
            display: flex;
            gap: 1rem;
            justify-content: center;
            flex-wrap: wrap;
            margin-bottom: 1.5rem;
        }

        .embed-btn {
            background: var(--rust);
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: 8px;
            font-family: 'Inter', sans-serif;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 4px 15px rgba(117, 53, 45, 0.2);
        }

        .embed-btn:hover {
            background: var(--dark-burgundy);
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(117, 53, 45, 0.3);
        }

        .embed-btn.secondary {
            background: white;
            color: var(--rust);
            border: 2px solid var(--rust);
            box-shadow: none;
        }

        .embed-btn.secondary:hover {
            background: var(--cream);
        }

        .embed-note {
            margin-top: 1.5rem;
            padding: 1rem 1.5rem;
            background: rgba(146, 164, 210, 0.1);
            border-radius: 8px;
            font-size: 0.9rem;
            color: #555;
            text-align: center;
            line-height: 1.6;
        }

        /* === FOOTER === */
        footer {
            background-color: var(--dark-burgundy);
            color: white;
            text-align: center;
            padding: 1.5rem;
            margin-top: 0;
        }

        /* === RESPONSIVE === */
        @media (max-width: 900px) {
            .experiment-nav {
                grid-template-columns: repeat(3, 1fr);
            }
        }

        @media (max-width: 768px) {
            .hamburger {
                display: flex;
            }

            nav {
                padding: 1rem;
            }

            .nav-links {
                position: fixed;
                top: 60px;
                right: -100%;
                flex-direction: column;
                background-color: var(--dark-burgundy);
                width: 100%;
                padding: 2rem;
                gap: 1rem;
                transition: right 0.3s ease;
            }

            .nav-links.active {
                right: 0;
            }

            .hero-section {
                padding: 7rem 1.5rem 3rem;
            }

            .hero-section h1 {
                font-size: 2.5rem;
            }

            .main-content {
                padding: 2rem 1rem;
            }

            .experiment-nav {
                grid-template-columns: repeat(2, 1fr);
            }

            .experiment-card {
                padding: 1.5rem;
            }

            .word-display {
                font-size: 2.5rem;
            }

            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }

        .embed-section-wrapper {
    border-radius: 40px 40px 0 0;
    padding: 3rem 1rem 10rem;
}

            .embed-section {
                padding: 2rem 1.5rem;
            }
        }

        @media (max-width: 500px) {
            .experiment-nav {
                grid-template-columns: 1fr;
            }

            .nav-card {
                display: flex;
                align-items: center;
                gap: 1rem;
                text-align: left;
                padding: 1rem;
            }

            .nav-card .card-number {
                margin-bottom: 0;
            }
        }
        /* === ENHANCEMENTS === */


/* Subtle glow on nav cards */
.nav-card:hover {
    box-shadow: 0 8px 30px rgba(146, 164, 210, 0.3);
}

/* Progress dots on nav cards */
.nav-card.completed .card-number {
    background: var(--sage);
}

.nav-card.completed::after {
    content: '‚úì';
    position: absolute;
    top: 8px;
    right: 8px;
    font-size: 0.75rem;
    color: var(--sage);
}

.nav-card {
    position: relative;
}

/* Pulse animation on Start button */
.btn:not(:disabled) {
    animation: subtlePulse 2s ease-in-out infinite;
}

@keyframes subtlePulse {
    0%, 100% { 
        box-shadow: 0 4px 15px rgba(117, 53, 45, 0.3);
        transform: scale(1);
    }
    50% { 
        box-shadow: 0 6px 30px rgba(117, 53, 45, 0.5);
        transform: scale(1.02);
    }
}

.btn:hover {
    animation: none;
}

/* Stat cards shine effect */
.stat-card {
    position: relative;
    overflow: hidden;
}

.stat-card::before {
    content: '';
    position: absolute;
    top: 0;
    left: -100%;
    width: 100%;
    height: 100%;
    background: linear-gradient(90deg, transparent, rgba(255,255,255,0.4), transparent);
    transition: 0.5s;
}

.stat-card:hover::before {
    left: 100%;
}

/* Results section entrance */
.results-section.active {
    animation: resultsReveal 0.5s ease;
}

@keyframes resultsReveal {
    from {
        opacity: 0;
        transform: scale(0.95);
    }
    to {
        opacity: 1;
        transform: scale(1);
    }
}

/* Chart container subtle shadow animation */
.chart-container {
    transition: box-shadow 0.3s ease;
}

.chart-container:hover {
    box-shadow: 0 12px 40px rgba(0, 0, 0, 0.12);
}

/* Display area gradient animation */
.display-area {
    background-size: 200% 200%;
    animation: gradientShift 8s ease infinite;
}

@keyframes gradientShift {
    0%, 100% { background-position: 0% 50%; }
    50% { background-position: 100% 50%; }
}

    </style>
</head>
<body>
    <!-- Navigation -->
    <nav>
        <div class="nav-container">
            <a href="../../index.html" class="nav-brand">Brooklyn Corbett</a>
            <div class="hamburger" id="hamburger">
                <span></span>
                <span></span>
                <span></span>
            </div>
            <ul class="nav-links" id="navLinks">
                <li><a href="../../index.html">Home</a></li>
                <li><a href="../../about.html">About</a></li>
                <li><a href="../../research/index.html">Research Projects</a></li>
                <li><a href="../index.html" class="active">AI in Education</a></li>
                <li><a href="../../data-viz.html">Data Visualisation</a></li>
                <li><a href="../../rigour.html">Open Science</a></li>
            </ul>
        </div>
    </nav>

<!-- Hero Section -->
<section class="hero-section">
    <h1>Memory Lab</h1>
    <p class="hero-subtitle">Interactive Experiments in Cognitive Psychology</p>
    <p class="hero-description">
        Explore key principles of how memory works through hands-on experiments. 
        Complete each activity to see your own results, then discover what the findings mean for teaching and learning.
    </p>
    <a href="index.html" class="hero-back-btn">‚Üê Back to Interactive Demos</a>
</section>

<!-- Main Content -->
<main class="main-content">


    <!-- Experiment Navigation -->
        <div class="experiment-nav-section">
            <h2 class="experiment-nav-title">Choose an Experiment</h2>
            <div class="experiment-nav">
                <div class="nav-card active" onclick="selectExperiment('serial', this)">
                    <span class="card-number">1</span>
                    <h3>Serial Position Effect</h3>
                </div>
                <div class="nav-card" onclick="selectExperiment('levels', this)">
                    <span class="card-number">2</span>
                    <h3>Levels of Processing</h3>
                </div>
                <div class="nav-card" onclick="selectExperiment('working', this)">
                    <span class="card-number">3</span>
                    <h3>Working Memory Span</h3>
                </div>
                <div class="nav-card" onclick="selectExperiment('false', this)">
                    <span class="card-number">4</span>
                    <h3>False Memory</h3>
                </div>
                <div class="nav-card" onclick="selectExperiment('recognition', this)">
                    <span class="card-number">5</span>
                    <h3>Recognition vs Recall</h3>
                </div>
            </div>
        </div>

        <!-- EXPERIMENT 1: SERIAL POSITION -->
        <div class="experiment-area active" id="serial-experiment">
            <div class="experiment-card">
                <h2 class="experiment-title">Serial Position Effect</h2>
                <div class="experiment-instructions">
                    <strong>Instructions:</strong> You'll see 15 words, one at a time. Pay attention and try to remember them all. Afterward, type out as many words as you can recall in any order.
                </div>
                
                <div id="serial-display">
                    <div class="display-area">
                        <div class="word-display" id="serial-word">Ready?</div>
                    </div>
                    <div class="button-group">
                        <button class="btn" onclick="startSerial()" id="serial-start-btn">Start Experiment</button>
                    </div>
                </div>
                
                <div class="input-area" id="serial-input" style="display: none;">
                    <p style="margin-bottom: 15px; font-weight: 600;">Type the words you remember (press Enter after each):</p>
                    <input type="text" class="word-input" id="serial-recall-input" placeholder="Type a word and press Enter">
                    <div class="recalled-words">
                        <strong>Words recalled:</strong> <span id="serial-recalled-list"></span>
                    </div>
                    <div class="button-group">
                        <button class="btn" onclick="finishSerial()">See Results</button>
                    </div>
                </div>
                
                <div class="results-section" id="serial-results">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-label">Total Recalled</div>
                            <div class="stat-value" id="serial-total">0/15</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">First 5 Words</div>
                            <div class="stat-value" id="serial-primacy">0</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Middle Words</div>
                            <div class="stat-value" id="serial-middle">0</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Last 5 Words</div>
                            <div class="stat-value" id="serial-recency">0</div>
                        </div>
                    </div>
                    
                    <div class="chart-container">
                        <canvas id="serial-chart"></canvas>
                    </div>
                    
                    <div class="explanation">
                        <h4>üß† What's Happening?</h4>
                        <p>The <strong>Serial Position Effect</strong> shows that we remember items from the beginning (primacy effect) and end (recency effect) of a list better than items in the middle.</p>
                        <p>The primacy effect occurs because early items get more rehearsal time. The recency effect happens because recent items are still in short-term memory.</p>
                    </div>
                    
                    <div class="teaching-application">
                        <h4>üìö Teaching Application</h4>
                        <p>Place the most important information at the beginning and end of your lessons. Use breaks or activities to create multiple "beginnings" and "endings" throughout longer sessions.</p>
                    </div>
                    
                    <div class="button-group">
                        <button class="btn secondary" onclick="resetSerial()">Try Again</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- EXPERIMENT 2: LEVELS OF PROCESSING -->
        <div class="experiment-area" id="levels-experiment">
            <div class="experiment-card">
                <h2 class="experiment-title">Levels of Processing</h2>
                <div class="experiment-instructions">
                    <strong>Instructions:</strong> You'll see words with different types of questions. Answer each question, then we'll test your memory. Some questions are about how the word looks (shallow processing), while others are about meaning (deep processing).
                </div>
                
                <div id="levels-display">
                    <div class="display-area">
                        <div class="word-display" id="levels-word">Ready?</div>
                    </div>
                    <p id="levels-question" style="text-align: center; font-size: 1.2em; margin: 20px 0; color: var(--rust);"></p>
                    <div class="button-group" id="levels-buttons">
                        <button class="btn" onclick="startLevels()" id="levels-start-btn">Start Experiment</button>
                    </div>
                </div>
                
                <div class="results-section" id="levels-results">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-label">Shallow Processing</div>
                            <div class="stat-value" id="levels-shallow">0%</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Deep Processing</div>
                            <div class="stat-value" id="levels-deep">0%</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Difference</div>
                            <div class="stat-value" id="levels-diff">0%</div>
                        </div>
                    </div>
                    
                    <div class="chart-container">
                        <canvas id="levels-chart"></canvas>
                    </div>
                    
                    <div class="explanation">
                        <h4>üß† What's Happening?</h4>
                        <p><strong>Levels of Processing Theory</strong> suggests that deeper, more meaningful processing of information leads to better memory than shallow, surface-level processing.</p>
                        <p>Thinking about a word's meaning creates more connections in memory than simply noting its visual features.</p>
                    </div>
                    
                    <div class="teaching-application">
                        <h4>üìö Teaching Application</h4>
                        <p>Encourage students to process material deeply by asking "why" and "how" questions, making personal connections, and relating new information to existing knowledge rather than just re-reading or highlighting.</p>
                    </div>
                    
                    <div class="button-group">
                        <button class="btn secondary" onclick="resetLevels()">Try Again</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- EXPERIMENT 3: WORKING MEMORY SPAN -->
        <div class="experiment-area" id="working-experiment">
            <div class="experiment-card">
                <h2 class="experiment-title">Working Memory Span</h2>
                <div class="experiment-instructions">
                    <strong>Instructions:</strong> Watch the grid carefully. Some squares will light up in sequence. After they finish, click the squares in the same order they appeared. The sequences will get longer as you progress!
                </div>
                
                <div id="working-display">
                    <p id="working-level" style="text-align: center; font-size: 1.1em; margin-bottom: 15px; color: var(--rust); font-weight: 600;">Level: 3 squares</p>
                    <p id="working-status" style="text-align: center; margin-bottom: 20px;">Press Start to begin</p>
                    
                    <div class="memory-grid-container">
                        <div class="memory-grid" id="working-grid"></div>
                    </div>
                    
                    <div class="button-group">
                        <button class="btn" onclick="startWorking()" id="working-start-btn">Start</button>
                        <button class="btn" onclick="submitWorking()" id="working-submit-btn" style="display: none;">Submit</button>
                    </div>
                </div>
                
                <div class="results-section" id="working-results">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-label">Your Span</div>
                            <div class="stat-value" id="working-span">0</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Average Adult</div>
                            <div class="stat-value">4-5</div>
                        </div>
                    </div>
                    
                    <div class="explanation">
                        <h4>üß† What's Happening?</h4>
                        <p><strong>Working memory</strong> is the cognitive system that temporarily holds and manipulates information. Most adults can hold about 4 items in working memory at once (the classic "7¬±2" has been revised downward).</p>
                        <p>Working memory capacity varies between individuals and is linked to learning ability, attention, and problem-solving.</p>
                    </div>
                    
                    <div class="teaching-application">
                        <h4>üìö Teaching Application</h4>
                        <p>Break complex information into smaller chunks. Avoid presenting too many new elements at once. Use visual aids to offload working memory demands, and build on prior knowledge to reduce cognitive load.</p>
                    </div>
                    
                    <div class="button-group">
                        <button class="btn secondary" onclick="resetWorking()">Try Again</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- EXPERIMENT 4: FALSE MEMORY -->
        <div class="experiment-area" id="false-experiment">
            <div class="experiment-card">
                <h2 class="experiment-title">False Memory (DRM Paradigm)</h2>
                <div class="experiment-instructions">
                    <strong>Instructions:</strong> You'll see a list of words one at a time. Try to remember them. Then you'll be shown a set of words and asked to identify which ones you saw before.
                </div>
                
                <div id="false-display">
                    <div class="display-area">
                        <div class="word-display" id="false-word">Ready?</div>
                    </div>
                    <div class="button-group">
                        <button class="btn" onclick="startFalse()" id="false-start-btn">Start Experiment</button>
                    </div>
                </div>
                
                <div id="false-test" style="display: none;">
                    <p style="text-align: center; font-size: 1.1em; margin-bottom: 20px; color: var(--rust); font-weight: 600;">
                        Click all the words you remember seeing:
                    </p>
                    <div class="recognition-grid" id="false-grid"></div>
                    <div class="button-group">
                        <button class="btn" onclick="finishFalse()">Submit Answers</button>
                    </div>
                </div>
                
                <div class="results-section" id="false-results">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-label">Correct Hits</div>
                            <div class="stat-value" id="false-hits">0/8</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">False Alarms</div>
                            <div class="stat-value" id="false-alarms">0</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Critical Lure</div>
                            <div class="stat-value" id="false-lure">-</div>
                        </div>
                    </div>
                    
                    <div class="explanation">
                        <h4>üß† What's Happening?</h4>
                        <p>The <strong>DRM (Deese-Roediger-McDermott) paradigm</strong> demonstrates how easily false memories form. All the study words were related to a critical word that was never shown (the "lure").</p>
                        <p>Many people confidently "remember" seeing the lure because our memories are reconstructive‚Äîwe fill in gaps based on associations and expectations.</p>
                    </div>
                    
                    <div class="teaching-application">
                        <h4>üìö Teaching Application</h4>
                        <p>Help students understand that memory is not like a video recording. Encourage fact-checking, note-taking, and healthy skepticism about the accuracy of recalled information, especially eyewitness accounts.</p>
                    </div>
                    
                    <div class="button-group">
                        <button class="btn secondary" onclick="resetFalse()">Try Again</button>
                    </div>
                </div>
            </div>
        </div>

        <!-- EXPERIMENT 5: RECOGNITION VS RECALL -->
        <div class="experiment-area" id="recognition-experiment">
            <div class="experiment-card">
                <h2 class="experiment-title">Recognition vs Recall</h2>
                <div class="experiment-instructions">
                    <strong>Instructions:</strong> You'll study a list of words. Then you'll complete two tests: first, a recall test (type the words you remember), then a recognition test (identify words from a list). Compare your performance!
                </div>
                
                <div id="recognition-display">
                    <div class="display-area">
                        <div class="word-display" id="recognition-word">Ready?</div>
                    </div>
                    <div class="button-group">
                        <button class="btn" onclick="startRecognition()" id="recognition-start-btn">Start Experiment</button>
                    </div>
                </div>
                
                <div id="recognition-recall" style="display: none;">
                    <div class="input-area">
                        <p style="margin-bottom: 15px; font-weight: 600;">RECALL TEST: Type the words you remember (press Enter after each):</p>
                        <input type="text" class="word-input" id="recognition-recall-input" placeholder="Type a word and press Enter">
                        <div class="recalled-words">
                            <strong>Words recalled:</strong> <span id="recognition-recalled-list"></span>
                        </div>
                    </div>
                    <div class="button-group">
                        <button class="btn" onclick="startRecognitionTest()">Continue to Recognition Test</button>
                    </div>
                </div>
                
                <div id="recognition-test" style="display: none;">
                    <p style="text-align: center; font-size: 1.1em; margin-bottom: 20px; color: var(--rust); font-weight: 600;">
                        RECOGNITION TEST: Click all the words you remember studying:
                    </p>
                    <div class="recognition-grid" id="recognition-grid"></div>
                    <div class="button-group">
                        <button class="btn" onclick="finishRecognition()">See Results</button>
                    </div>
                </div>
                
                <div class="results-section" id="recognition-results">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-label">Recall Score</div>
                            <div class="stat-value" id="recognition-recall-score">0%</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Recognition Score</div>
                            <div class="stat-value" id="recognition-recog-score">0%</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-label">Difference</div>
                            <div class="stat-value" id="recognition-diff">0%</div>
                        </div>
                    </div>
                    
                    <div class="chart-container">
                        <canvas id="recognition-chart"></canvas>
                    </div>
                    
                    <div class="explanation">
                        <h4>üß† What's Happening?</h4>
                        <p><strong>Recognition</strong> (identifying previously seen items) is typically easier than <strong>recall</strong> (retrieving information without cues) because recognition only requires a familiarity judgment, while recall requires searching memory and reconstructing information.</p>
                    </div>
                    
                    <div class="teaching-application">
                        <h4>üìö Teaching Application</h4>
                        <p>Multiple-choice tests (recognition) are easier than short-answer or essay tests (recall). For deeper learning, use practice tests that require recall. The extra effort of retrieval practice strengthens memory more than recognition tasks.</p>
                    </div>
                    
                    <div class="button-group">
                        <button class="btn secondary" onclick="resetRecognition()">Try Again</button>
                    </div>
                </div>
            </div>
        </div>
    </main>

    <!-- Embed Section with Parallax -->
    <div class="embed-section-wrapper" id="embedSectionWrapper">
        <div class="embed-section" id="embedSection">
            <h3>Use This Demo in Your Teaching</h3>
            <p>
                This interactive demo is self-contained and can be embedded directly into your LMS 
                (like Blackboard) or downloaded for offline use. No coding required.
            </p>
            
            <div class="embed-buttons">
                <button class="embed-btn" onclick="copyDemoCode()">üìã Copy HTML Code</button>
                <button class="embed-btn secondary" onclick="downloadDemo()">‚¨áÔ∏è Download File</button>
            </div>
            
            <div class="embed-note">
                <strong>Tip:</strong> In Blackboard, create a new Item, switch to HTML view, and paste the code. 
                The demo will work directly in students' browsers with no additional setup needed.
            </div>
        </div>
    </div>

    <!-- Footer -->
<footer>
    <a href="index.html" class="footer-back-btn">‚Üê Back to Interactive Demos</a>
</footer>

    <!-- JavaScript -->
    <script>
        // Mobile nav toggle
        document.getElementById('hamburger').addEventListener('click', function() {
            document.getElementById('navLinks').classList.toggle('active');
            this.classList.toggle('active');
        });

        // Parallax effect for embed section
        function initParallaxEffect() {
            const wrapper = document.getElementById('embedSectionWrapper');
            const section = document.getElementById('embedSection');
            
            if (!wrapper || !section) return;
            
            function handleScroll() {
                const rect = wrapper.getBoundingClientRect();
                const windowHeight = window.innerHeight;
                
                if (rect.top < windowHeight && rect.bottom > 0) {
                    const sectionTop = wrapper.offsetTop;
                    const scrolled = window.pageYOffset;
                    const relativeScroll = scrolled - sectionTop + windowHeight;
                    
                    if (relativeScroll > 0) {
                        const parallaxOffset = Math.min(relativeScroll * 0.15, 80);
                        section.style.transform = `translateY(${parallaxOffset}px)`;
                    }
                }
            }
            
            window.addEventListener('scroll', handleScroll, { passive: true });
            handleScroll();
        }
        
        document.addEventListener('DOMContentLoaded', initParallaxEffect);

        // Charts object
        let charts = {};

// Experiment selection
function selectExperiment(expId, element) {
    document.querySelectorAll('.nav-card').forEach(c => c.classList.remove('active'));
    document.querySelectorAll('.experiment-area').forEach(e => e.classList.remove('active'));
    element.classList.add('active');
    const experimentArea = document.getElementById(expId + '-experiment');
    experimentArea.classList.add('active');
    
    // Smooth scroll to the experiment
    setTimeout(() => {
        experimentArea.scrollIntoView({ behavior: 'smooth', block: 'start' });
    }, 100);
}

        // Initialize working memory grid
        function initWorkingGrid() {
            const grid = document.getElementById('working-grid');
            grid.innerHTML = '';
            for (let i = 0; i < 16; i++) {
                const cell = document.createElement('div');
                cell.className = 'grid-cell';
                cell.dataset.index = i;
                cell.onclick = () => selectWorkingCell(i);
                grid.appendChild(cell);
            }
        }
        initWorkingGrid();

        // === SERIAL POSITION ===
        const serialWords = ['APPLE', 'BRIDGE', 'CASTLE', 'DOLPHIN', 'ELEPHANT', 'FOREST', 'GUITAR', 'HARBOR', 'ISLAND', 'JUNGLE', 'KITCHEN', 'LANTERN', 'MOUNTAIN', 'NOTEBOOK', 'ORANGE'];
        let serialRecalled = [];

        function startSerial() {
            document.getElementById('serial-start-btn').style.display = 'none';
            let index = 0;
            const interval = setInterval(() => {
                if (index < serialWords.length) {
                    document.getElementById('serial-word').textContent = serialWords[index];
                    index++;
                } else {
                    clearInterval(interval);
                    document.getElementById('serial-word').textContent = 'Now recall the words!';
                    setTimeout(() => {
                        document.getElementById('serial-display').style.display = 'none';
                        document.getElementById('serial-input').style.display = 'block';
                        document.getElementById('serial-recall-input').focus();
                    }, 1500);
                }
            }, 1500);
        }

        document.getElementById('serial-recall-input')?.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && this.value.trim()) {
                const word = this.value.trim().toUpperCase();
                if (!serialRecalled.includes(word)) {
                    serialRecalled.push(word);
                    document.getElementById('serial-recalled-list').textContent = serialRecalled.join(', ');
                }
                this.value = '';
            }
        });

        function finishSerial() {
            document.getElementById('serial-input').style.display = 'none';
            document.getElementById('serial-results').classList.add('active');
            
            const positions = serialWords.map((word, i) => serialRecalled.includes(word) ? 1 : 0);
            const primacy = positions.slice(0, 5).reduce((a, b) => a + b, 0);
            const middle = positions.slice(5, 10).reduce((a, b) => a + b, 0);
            const recency = positions.slice(10, 15).reduce((a, b) => a + b, 0);
            
            document.getElementById('serial-total').textContent = serialRecalled.filter(w => serialWords.includes(w)).length + '/15';
            document.getElementById('serial-primacy').textContent = primacy;
            document.getElementById('serial-middle').textContent = middle;
            document.getElementById('serial-recency').textContent = recency;
            
            if (charts.serial) charts.serial.destroy();
            charts.serial = new Chart(document.getElementById('serial-chart'), {
                type: 'line',
                data: {
                    labels: serialWords.map((_, i) => i + 1),
                    datasets: [{
                        label: 'Recalled',
                        data: positions,
                        borderColor: '#92A4D2',
                        backgroundColor: 'rgba(146, 164, 210, 0.2)',
                        fill: true,
                        tension: 0.3
                    }]
                },
                options: {
                    responsive: true,
                    plugins: { legend: { display: false } },
                    scales: {
                        y: { beginAtZero: true, max: 1, ticks: { stepSize: 1 }, title: { display: true, text: 'Recalled (1) / Forgotten (0)' } },
                        x: { title: { display: true, text: 'Word Position' } }
                    }
                }
            });
        }

        function resetSerial() {
            serialRecalled = [];
            document.getElementById('serial-recalled-list').textContent = '';
            document.getElementById('serial-results').classList.remove('active');
            document.getElementById('serial-input').style.display = 'none';
            document.getElementById('serial-display').style.display = 'block';
            document.getElementById('serial-start-btn').style.display = 'inline-block';
            document.getElementById('serial-word').textContent = 'Ready?';
        }

        // === LEVELS OF PROCESSING ===
        const levelsWords = [
            { word: 'TIGER', shallow: 'Is this word in uppercase?', deep: 'Is this a dangerous animal?' },
            { word: 'piano', shallow: 'Is this word in lowercase?', deep: 'Can this make music?' },
            { word: 'OCEAN', shallow: 'Does this word have 5 letters?', deep: 'Is this larger than a lake?' },
            { word: 'bread', shallow: 'Does this start with B?', deep: 'Is this a food item?' },
            { word: 'DOCTOR', shallow: 'Is this word in uppercase?', deep: 'Does this person help sick people?' },
            { word: 'hammer', shallow: 'Does this end with R?', deep: 'Is this a tool?' },
            { word: 'SUNSET', shallow: 'Does this have 6 letters?', deep: 'Is this beautiful to watch?' },
            { word: 'bicycle', shallow: 'Is this word in lowercase?', deep: 'Does this have wheels?' }
        ];
        let levelsIndex = 0, levelsResults = [], currentDepth = '';

        function startLevels() {
            document.getElementById('levels-start-btn').style.display = 'none';
            showLevelsWord();
        }

        function showLevelsWord() {
            if (levelsIndex < levelsWords.length) {
                const item = levelsWords[levelsIndex];
                currentDepth = Math.random() > 0.5 ? 'deep' : 'shallow';
                document.getElementById('levels-word').textContent = item.word;
                document.getElementById('levels-question').textContent = item[currentDepth];
                document.getElementById('levels-buttons').innerHTML = `
                    <button class="btn" onclick="answerLevels(true)">Yes</button>
                    <button class="btn secondary" onclick="answerLevels(false)">No</button>
                `;
            } else {
                showLevelsTest();
            }
        }

        function answerLevels(answer) {
            levelsResults.push({ word: levelsWords[levelsIndex].word.toUpperCase(), depth: currentDepth });
            levelsIndex++;
            showLevelsWord();
        }

        function showLevelsTest() {
            document.getElementById('levels-display').innerHTML = `
                <p style="text-align: center; font-size: 1.1em; margin-bottom: 20px; color: var(--rust); font-weight: 600;">
                    Which words do you remember seeing?
                </p>
                <div class="recognition-grid" id="levels-grid"></div>
                <div class="button-group">
                    <button class="btn" onclick="finishLevels()">Submit Answers</button>
                </div>
            `;
            const allWords = [...levelsWords.map(w => w.word.toUpperCase()), 'COMPUTER', 'FLOWER', 'RIVER', 'COFFEE'];
            const grid = document.getElementById('levels-grid');
            allWords.sort(() => Math.random() - 0.5).forEach(word => {
                const div = document.createElement('div');
                div.className = 'recognition-word';
                div.textContent = word;
                div.onclick = () => div.classList.toggle('selected');
                grid.appendChild(div);
            });
        }

        function finishLevels() {
            const selected = Array.from(document.querySelectorAll('#levels-grid .selected')).map(d => d.textContent);
            const shallow = levelsResults.filter(r => r.depth === 'shallow');
            const deep = levelsResults.filter(r => r.depth === 'deep');
            const shallowRecalled = shallow.filter(r => selected.includes(r.word)).length;
            const deepRecalled = deep.filter(r => selected.includes(r.word)).length;
            const shallowPct = shallow.length > 0 ? Math.round((shallowRecalled / shallow.length) * 100) : 0;
            const deepPct = deep.length > 0 ? Math.round((deepRecalled / deep.length) * 100) : 0;
            
            document.getElementById('levels-shallow').textContent = shallowPct + '%';
            document.getElementById('levels-deep').textContent = deepPct + '%';
            document.getElementById('levels-diff').textContent = (deepPct - shallowPct >= 0 ? '+' : '') + (deepPct - shallowPct) + '%';
            document.getElementById('levels-results').classList.add('active');
            document.getElementById('levels-display').style.display = 'none';
            
            if (charts.levels) charts.levels.destroy();
            charts.levels = new Chart(document.getElementById('levels-chart'), {
                type: 'bar',
                data: {
                    labels: ['Shallow Processing', 'Deep Processing'],
                    datasets: [{ data: [shallowPct, deepPct], backgroundColor: ['rgba(117, 53, 45, 0.7)', 'rgba(146, 164, 210, 0.7)'], borderColor: ['#75352D', '#92A4D2'], borderWidth: 2 }]
                },
                options: { responsive: true, plugins: { legend: { display: false } }, scales: { y: { beginAtZero: true, max: 100, title: { display: true, text: '% Recalled' } } } }
            });
        }

        function resetLevels() {
            levelsIndex = 0;
            levelsResults = [];
            document.getElementById('levels-results').classList.remove('active');
            document.getElementById('levels-display').style.display = 'block';
            document.getElementById('levels-display').innerHTML = `
                <div class="display-area"><div class="word-display" id="levels-word">Ready?</div></div>
                <p id="levels-question" style="text-align: center; font-size: 1.2em; margin: 20px 0; color: var(--rust);"></p>
                <div class="button-group" id="levels-buttons"><button class="btn" onclick="startLevels()" id="levels-start-btn">Start Experiment</button></div>
            `;
        }

        // === WORKING MEMORY SPAN ===
        let workingLevel = 3, workingSequence = [], workingUserSequence = [], workingPhase = 'waiting', workingMaxSpan = 0;

        function selectWorkingCell(index) {
            if (workingPhase !== 'input') return;
            const cell = document.querySelector(`[data-index="${index}"]`);
            if (!cell.classList.contains('selected')) {
                cell.classList.add('selected');
                workingUserSequence.push(index);
            }
        }

        function startWorking() {
            document.getElementById('working-start-btn').style.display = 'none';
            document.getElementById('working-status').textContent = 'Watch carefully...';
            workingPhase = 'watching';
            workingSequence = [];
            workingUserSequence = [];
            
            const cells = Array.from({ length: 16 }, (_, i) => i);
            for (let i = 0; i < workingLevel; i++) {
                const idx = Math.floor(Math.random() * cells.length);
                workingSequence.push(cells.splice(idx, 1)[0]);
            }
            
            let i = 0;
            const interval = setInterval(() => {
                document.querySelectorAll('.grid-cell').forEach(c => c.classList.remove('highlighted'));
                if (i < workingSequence.length) {
                    document.querySelector(`[data-index="${workingSequence[i]}"]`).classList.add('highlighted');
                    i++;
                } else {
                    clearInterval(interval);
                    document.querySelectorAll('.grid-cell').forEach(c => c.classList.remove('highlighted'));
                    document.getElementById('working-status').textContent = 'Now click the squares in the same order!';
                    document.getElementById('working-submit-btn').style.display = 'inline-block';
                    workingPhase = 'input';
                }
            }, 800);
        }

        function submitWorking() {
            workingPhase = 'waiting';
            const correct = JSON.stringify(workingSequence) === JSON.stringify(workingUserSequence);
            
            workingSequence.forEach((idx, i) => {
                const cell = document.querySelector(`[data-index="${idx}"]`);
                if (workingUserSequence[i] === idx) cell.classList.add('correct');
                else cell.classList.add('highlighted');
            });
            workingUserSequence.forEach(idx => {
                if (!workingSequence.includes(idx)) document.querySelector(`[data-index="${idx}"]`).classList.add('incorrect');
            });
            
            if (correct) {
                workingMaxSpan = workingLevel;
                workingLevel++;
                document.getElementById('working-status').textContent = 'Correct! Moving to level ' + workingLevel;
                setTimeout(() => {
                    document.querySelectorAll('.grid-cell').forEach(c => c.classList.remove('selected', 'correct', 'incorrect', 'highlighted'));
                    document.getElementById('working-level').textContent = 'Level: ' + workingLevel + ' squares';
                    document.getElementById('working-submit-btn').style.display = 'none';
                    document.getElementById('working-start-btn').style.display = 'inline-block';
                }, 1500);
            } else {
                document.getElementById('working-status').textContent = 'Game over! Your span: ' + workingMaxSpan;
                document.getElementById('working-span').textContent = workingMaxSpan;
                setTimeout(() => { document.getElementById('working-results').classList.add('active'); }, 1000);
            }
        }

        function resetWorking() {
            document.querySelectorAll('.grid-cell').forEach(c => c.classList.remove('selected', 'correct', 'incorrect', 'highlighted'));
            document.getElementById('working-results').classList.remove('active');
            document.getElementById('working-start-btn').style.display = 'inline-block';
            document.getElementById('working-submit-btn').style.display = 'none';
            document.getElementById('working-level').textContent = 'Level: 3 squares';
            document.getElementById('working-status').textContent = 'Press Start to begin';
            workingLevel = 3;
            workingMaxSpan = 0;
            workingPhase = 'waiting';
        }

        // === FALSE MEMORY ===
        const falseStudyWords = ['BED', 'REST', 'TIRED', 'DREAM', 'WAKE', 'SNOOZE', 'BLANKET', 'DOZE', 'SLUMBER', 'SNORE', 'NAP', 'DROWSY', 'PILLOW', 'YAWN', 'NIGHT'];
        const falseLure = 'SLEEP';
        const falseDistractors = ['TREE', 'CAR', 'BOOK', 'PHONE', 'LAMP', 'DESK', 'WATER', 'CLOCK'];
        let falseSelected = [];

        function startFalse() {
            document.getElementById('false-start-btn').style.display = 'none';
            let index = 0;
            const interval = setInterval(() => {
                if (index < falseStudyWords.length) {
                    document.getElementById('false-word').textContent = falseStudyWords[index];
                    index++;
                } else {
                    clearInterval(interval);
                    document.getElementById('false-word').textContent = 'Get ready for the test...';
                    setTimeout(() => {
                        document.getElementById('false-display').style.display = 'none';
                        showFalseTest();
                    }, 2000);
                }
            }, 1200);
        }

        function showFalseTest() {
            document.getElementById('false-test').style.display = 'block';
            const testWords = [...falseStudyWords.slice(0, 8), falseLure, ...falseDistractors.slice(0, 6)];
            for (let i = testWords.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [testWords[i], testWords[j]] = [testWords[j], testWords[i]];
            }
            const grid = document.getElementById('false-grid');
            grid.innerHTML = '';
            testWords.forEach(word => {
                const div = document.createElement('div');
                div.className = 'recognition-word';
                div.textContent = word;
                div.onclick = () => {
                    div.classList.toggle('selected');
                    if (div.classList.contains('selected')) falseSelected.push(word);
                    else falseSelected = falseSelected.filter(w => w !== word);
                };
                grid.appendChild(div);
            });
        }

        function finishFalse() {
            document.getElementById('false-test').style.display = 'none';
            document.getElementById('false-results').classList.add('active');
            const hits = falseSelected.filter(w => falseStudyWords.includes(w)).length;
            const falseAlarms = falseSelected.filter(w => !falseStudyWords.includes(w) && w !== falseLure).length;
            const selectedLure = falseSelected.includes(falseLure);
            document.getElementById('false-hits').textContent = hits + '/8';
            document.getElementById('false-alarms').textContent = falseAlarms;
            document.getElementById('false-lure').textContent = selectedLure ? 'Selected!' : 'Avoided';
            document.getElementById('false-lure').style.color = selectedLure ? '#e57373' : '#7fa8a8';
        }

        function resetFalse() {
            falseSelected = [];
            document.getElementById('false-results').classList.remove('active');
            document.getElementById('false-test').style.display = 'none';
            document.getElementById('false-display').style.display = 'block';
            document.getElementById('false-start-btn').style.display = 'inline-block';
            document.getElementById('false-word').textContent = 'Ready?';
        }

        // === RECOGNITION VS RECALL ===
        const recognitionStudyWords = ['ELEPHANT', 'GUITAR', 'BUTTERFLY', 'MOUNTAIN', 'TELESCOPE', 'LIGHTHOUSE', 'UMBRELLA', 'CHOCOLATE', 'DINOSAUR', 'WATERFALL', 'TREASURE', 'RAINBOW'];
        const recognitionDistractors = ['GIRAFFE', 'PIANO', 'SPIDER', 'VOLCANO', 'MICROSCOPE', 'SKYSCRAPER', 'RAINCOAT', 'VANILLA', 'MAMMOTH', 'FOUNTAIN', 'FORTUNE', 'SUNSET'];
        let recognitionRecalled = [], recognitionSelected = [];

        function startRecognition() {
            document.getElementById('recognition-start-btn').style.display = 'none';
            let index = 0;
            const interval = setInterval(() => {
                if (index < recognitionStudyWords.length) {
                    document.getElementById('recognition-word').textContent = recognitionStudyWords[index];
                    index++;
                } else {
                    clearInterval(interval);
                    document.getElementById('recognition-word').textContent = 'Time for the tests!';
                    setTimeout(() => {
                        document.getElementById('recognition-display').style.display = 'none';
                        document.getElementById('recognition-recall').style.display = 'block';
                        document.getElementById('recognition-recall-input').focus();
                    }, 1500);
                }
            }, 1500);
        }

        document.getElementById('recognition-recall-input')?.addEventListener('keypress', function(e) {
            if (e.key === 'Enter' && this.value.trim()) {
                const word = this.value.trim().toUpperCase();
                if (!recognitionRecalled.includes(word)) {
                    recognitionRecalled.push(word);
                    document.getElementById('recognition-recalled-list').textContent = recognitionRecalled.join(', ');
                }
                this.value = '';
            }
        });

        function startRecognitionTest() {
            document.getElementById('recognition-recall').style.display = 'none';
            document.getElementById('recognition-test').style.display = 'block';
            const testWords = [...recognitionStudyWords, ...recognitionDistractors];
            for (let i = testWords.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [testWords[i], testWords[j]] = [testWords[j], testWords[i]];
            }
            const grid = document.getElementById('recognition-grid');
            grid.innerHTML = '';
            testWords.forEach(word => {
                const div = document.createElement('div');
                div.className = 'recognition-word';
                div.textContent = word;
                div.onclick = () => {
                    div.classList.toggle('selected');
                    if (div.classList.contains('selected')) recognitionSelected.push(word);
                    else recognitionSelected = recognitionSelected.filter(w => w !== word);
                };
                grid.appendChild(div);
            });
        }

        function finishRecognition() {
            document.getElementById('recognition-test').style.display = 'none';
            document.getElementById('recognition-results').classList.add('active');
            const recallCorrect = recognitionRecalled.filter(w => recognitionStudyWords.includes(w)).length;
            const recallPct = Math.round((recallCorrect / recognitionStudyWords.length) * 100);
            const recognitionHits = recognitionSelected.filter(w => recognitionStudyWords.includes(w)).length;
            const recognitionPct = Math.round((recognitionHits / recognitionStudyWords.length) * 100);
            document.getElementById('recognition-recall-score').textContent = recallPct + '%';
            document.getElementById('recognition-recog-score').textContent = recognitionPct + '%';
            const diff = recognitionPct - recallPct;
            document.getElementById('recognition-diff').textContent = (diff >= 0 ? '+' : '') + diff + '%';
            document.getElementById('recognition-diff').style.color = diff > 0 ? '#7fa8a8' : '#75352D';
            
            if (charts.recognition) charts.recognition.destroy();
            charts.recognition = new Chart(document.getElementById('recognition-chart'), {
                type: 'bar',
                data: {
                    labels: ['Recall (Short Answer)', 'Recognition (Multiple Choice)'],
                    datasets: [{ data: [recallPct, recognitionPct], backgroundColor: ['rgba(117, 53, 45, 0.7)', 'rgba(146, 164, 210, 0.7)'], borderColor: ['#75352D', '#92A4D2'], borderWidth: 2 }]
                },
                options: { responsive: true, plugins: { legend: { display: false } }, scales: { y: { beginAtZero: true, max: 100, title: { display: true, text: '% Correct' } } } }
            });
        }

        function resetRecognition() {
            recognitionRecalled = [];
            recognitionSelected = [];
            document.getElementById('recognition-recalled-list').textContent = '';
            document.getElementById('recognition-results').classList.remove('active');
            document.getElementById('recognition-test').style.display = 'none';
            document.getElementById('recognition-recall').style.display = 'none';
            document.getElementById('recognition-display').style.display = 'block';
            document.getElementById('recognition-start-btn').style.display = 'inline-block';
            document.getElementById('recognition-word').textContent = 'Ready?';
        }

        // === EMBED FUNCTIONS ===
        function copyDemoCode() {
            let code = document.documentElement.outerHTML;
            code = code.replace(/<nav[\s\S]*?<\/nav>/g, '');
            code = code.replace(/<div class="embed-section-wrapper"[\s\S]*?<\/div>\s*<\/div>/g, '');
            code = code.replace(/<footer[\s\S]*?<\/footer>/g, '');
            
            navigator.clipboard.writeText(code).then(() => {
                const btn = event.target;
                const originalText = btn.textContent;
                btn.textContent = '‚úì Copied!';
                btn.style.background = 'var(--sage)';
                setTimeout(() => {
                    btn.textContent = originalText;
                    btn.style.background = '';
                }, 2000);
            }).catch(() => {
                const textarea = document.createElement('textarea');
                textarea.value = code;
                document.body.appendChild(textarea);
                textarea.select();
                document.execCommand('copy');
                document.body.removeChild(textarea);
                alert('Code copied to clipboard!');
            });
        }

        function downloadDemo() {
            let code = document.documentElement.outerHTML;
            code = code.replace(/<nav[\s\S]*?<\/nav>/g, '');
            code = code.replace(/<div class="embed-section-wrapper"[\s\S]*?<\/div>\s*<\/div>/g, '');
            code = code.replace(/<footer[\s\S]*?<\/footer>/g, '');
            
            const blob = new Blob([code], { type: 'text/html' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'memory-lab-experiments.html';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
        // Mark experiments as completed
function markCompleted(expId) {
    const navCard = document.querySelector(`[onclick*="${expId}"]`);
    if (navCard) navCard.classList.add('completed');
}

// Call this when results are shown - add to each finish function
// Example: Add markCompleted('serial'); at the end of finishSerial()

// Animated number counter for stats
function animateValue(element, start, end, duration) {
    const range = end - start;
    const startTime = performance.now();
    
    function update(currentTime) {
        const elapsed = currentTime - startTime;
        const progress = Math.min(elapsed / duration, 1);
        const easeOut = 1 - Math.pow(1 - progress, 3);
        const current = Math.round(start + range * easeOut);
        element.textContent = current + (element.dataset.suffix || '');
        
        if (progress < 1) {
            requestAnimationFrame(update);
        }
    }
    
    requestAnimationFrame(update);
}
    </script>
</body>
</html>